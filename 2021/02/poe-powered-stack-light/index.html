<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=content-language content="en">
<meta name=author content="karl quinsland">
<meta name=description content="AKA a real-life 'unread' indicator">
<meta name=keywords content="personal,blog,developer">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://karlquinsland.com/2021/02/poe-powered-stack-light/images/complete/02_all_on.jpg">
<meta name=twitter:title content="PoE powered Stack Light">
<meta name=twitter:description content="AKA a real-life 'unread' indicator">
<meta property="og:title" content="PoE powered Stack Light">
<meta property="og:description" content="AKA a real-life 'unread' indicator">
<meta property="og:type" content="article">
<meta property="og:url" content="https://karlquinsland.com/2021/02/poe-powered-stack-light/"><meta property="og:image" content="https://karlquinsland.com/2021/02/poe-powered-stack-light/images/complete/02_all_on.jpg"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-02-28T00:00:00+00:00">
<meta property="article:modified_time" content="2021-02-28T00:00:00+00:00">
<base href=https://karlquinsland.com/2021/02/poe-powered-stack-light/>
<title>
PoE powered Stack Light Â· karl
</title>
<link rel=canonical href=https://karlquinsland.com/2021/02/poe-powered-stack-light/>
<link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel=stylesheet>
<link rel=stylesheet href=https://use.fontawesome.com/releases/v5.13.0/css/all.css integrity=sha384-Bfad6CLCknfcloXFOyFnlgtENryhrpZCe29RTifKEixXQZ38WheV+i/6YWSzkz3V crossorigin=anonymous>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin=anonymous>
<link rel=stylesheet href=https://karlquinsland.com/css/coder.min.3219ef62ae52679b7a9c19043171c3cd9f523628c2a65f3ef247ee18836bc90b.css integrity="sha256-MhnvYq5SZ5t6nBkEMXHDzZ9SNijCpl8+8kfuGINryQs=" crossorigin=anonymous media=screen>
<link rel=stylesheet href=https://karlquinsland.com/css/coder-dark.min.e78e80fc3a585a4d1c8fc7f58623b6ff852411e38431a9cd1792877ecaa160f6.css integrity="sha256-546A/DpYWk0cj8f1hiO2/4UkEeOEManNF5KHfsqhYPY=" crossorigin=anonymous media=screen>
<link rel=stylesheet href=https://karlquinsland.com/css/custom.css>
<link rel=icon type=image/png href=https://karlquinsland.com/img/favicon-32x32.png sizes=32x32>
<link rel=icon type=image/png href=https://karlquinsland.com/img/favicon-16x16.png sizes=16x16>
<meta name=generator content="Hugo 0.88.1">
</head>
<body class=colorscheme-auto>
<main class=wrapper>
<nav class=navigation>
<section class=container>
<a class=navigation-title href=https://karlquinsland.com/>
karl
</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fas fa-bars"></i></label>
<ul class=navigation-list>
<li class=navigation-item>
<a class=navigation-link href=https://karlquinsland.com/posts/>Blog</a>
</li>
<li class=navigation-item>
<a class=navigation-link href=https://karlquinsland.com/resume/>RÃ©sumÃ©</a>
</li>
<li class=navigation-item>
<a class=navigation-link href=https://karlquinsland.com/contact/>Contact</a>
</li>
</ul>
</section>
</nav>
<div class=content>
<section class="container post">
<article>
<header>
<div class=post-title>
<h1 class=title>PoE powered Stack Light</h1>
</div>
<div class=post-meta>
<div class=date>
<span class=posted-on>
<i class="fas fa-calendar"></i>
<time datetime=2021-02-28T00:00:00Z>
February 28, 2021
</time>
</span>
<span class=reading-time>
<i class="fas fa-clock"></i>
11-minute read
</span>
</div>
<div class=categories>
<i class="fas fa-folder"></i>
<a href=https://karlquinsland.com/categories/home-lab/>home-lab</a></div>
<div class=tags>
<i class="fas fa-tag"></i>
<a href=https://karlquinsland.com/tags/home-assistant/>home assistant</a>
<span class=separator>â€¢</span>
<a href=https://karlquinsland.com/tags/mqtt/>MQTT</a>
<span class=separator>â€¢</span>
<a href=https://karlquinsland.com/tags/esphome/>ESPHome</a>
<span class=separator>â€¢</span>
<a href=https://karlquinsland.com/tags/hasdownload/>has:download</a></div>
</div>
</header>
<div>
<figure>
<img src=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/complete/02_all_on.jpg alt="Picture showing assembled light attached to enclosure from the front. All 5 lights are lit.">
<figcaption>
<p>
The lights are much brighter than they appear in this picture; had to intentionally darken the image to prevent camera from blowing out the colors.
</p>
</figcaption>
</figure>
<p><a href=https://en.wikipedia.org/wiki/Stack_light>Stack/signal lights</a> are <em>everywhere</em> in industrial applications for good reason: they&rsquo;re a compact and relatively information-dense indicator system. They always seemed like the kind of indicator that only people with expensive machines needed. Until I found that they can be had for just under $6/light from Ali Express, that is.</p>
<p>I don&rsquo;t have any giant industrial machines to attach one to, but I do have a non-trivial number of containers/servers/networked-devices running and they all emit various notifications, usually through email. Who wouldn&rsquo;t mind a novel way to move those notifications beyond email/push notifications into the physical world ðŸ¤”?</p>
<ul>
<li>ðŸŸ¢ => Everything is nominal</li>
<li>ðŸŸ  => Check your email; a <code>WARN</code> level event has occurred</li>
<li>ðŸ”´ => A <code>WARN</code> or <code>ERROR</code> level condition has occurred; something (ISP down?) is preventing delivery of notifications so check the logs/dashboards directly</li>
<li>ðŸ”µ => A new <code>INFO</code> level message available in Home Assistant</li>
<li>âšª => Not sure; either a &ldquo;A HIGH priority task is past due&rdquo; or a &lsquo;modifier&rsquo; for above status</li>
</ul>
<p>While waiting for the light to arrive from China, I started to design something to drive it.
It was immediately obvious that an ESP32 module would be <strong>ideal</strong> to run the show, and just for the fun of it, I decided to make the entire thing (optionally) controlled and powered over Ethernet.</p>
<h2 id=home-assistant>Home Assistant</h2>
<p>It wouldn&rsquo;t be an ESP32 powered project w/o the the <em>fantastic</em> <a href=https://esphome.io/>ESPHome</a> framework! With ESPHome comes trivial Home Assistant integration; each individual light / channel on the stack light is automatically configured via MQTT a a light:</p>
<figure>
<img src=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/home-assistant.png alt="Screenshot showing the stack light automatically configured in Home Assistant.">
<figcaption>
<p>
Stack light is controlled via MQTT making it easy to control from Home Assistant or any other program that can speak MQTT.
</p>
</figcaption>
</figure>
<p>A slightly modified version of the ESPHome config that I use to build the firmware for the light is attached at the end of this post.</p>
<p>Unfortunately, the one Home Assistant integration that I had in mind is currently not feasible!
I wanted to light the blue light when there is any new/unread Home Assistant <a href=https://www.home-assistant.io/integrations/persistent_notification/>persistent notifications</a>;
a real life &ldquo;unread&rdquo; badge of sorts.</p>
<p>There is no way to get the list / count of active notifications unless you&rsquo;re a <a href=https://github.com/home-assistant/core/blob/41b45c7f78f9937520b38126cedf228da7507d7d/homeassistant/components/persistent_notification/__init__.py#L203>websocket client</a>, however.</p>
<p>Using the <a href=https://github.com/home-assistant/core/blob/41b45c7f78f9937520b38126cedf228da7507d7d/homeassistant/components/persistent_notification/__init__.py#L30><code>persistent_notifications_updated</code></a> event as a trigger won&rsquo;t work because the event payload lacks useful data; I can&rsquo;t figure out the number of notifications or their state&mldr; just that either notification has been created or dismissed.
If I wanted the blue light on any time a notification was either created or destroyed, I could use this trigger. But the light is no longer a useful indicator; it would be on the first time a notification was created or destroyed and then it would never be off.</p>
<p>Manually trying to <a href=https://community.home-assistant.io/t/dismiss-of-a-persistent-notification-as-trigger-for-automations/135621/5>keep track of the number of notification created/dismissed actions</a> just feels like a hacky workaround that could easily get out of sync, too.</p>
<p>Oh well ðŸ˜”.</p>
<h2 id=bom>BOM</h2>
<p>I&rsquo;ll cover the individual 3D printed and electronic components below. Beyond them, you&rsquo;ll need some additional hardware:</p>
<ul>
<li>4x <a href=https://www.mcmaster.com/catalog/91290A113>m3x8mm</a> screws</li>
<li>4x <a href=https://www.mcmaster.com/catalog/91274A115>m4x8mm</a> screws</li>
<li>4x <a href=https://www.mcmaster.com/catalog/91274A117>m4x10mm</a> screws</li>
<li>6x <a href="https://www.kjmagnetics.com/proddetail.asp?prod=BC41">Neodymium magnets</a> sized 20mm x 6mm x 2mm. These are optional and are leftover magnets from this <a href="https://www.google.com/search?client=firefox-b-1-d&q=prusa+mk3+enclosure+2">build</a></li>
<li>10mm diameter <a href="https://www.amazon.com/s?k=10mm+cabinet+door+pad">anti-slip pads</a>. Thees are optional but will keep the base from sliding around.</li>
</ul>
<p>I&rsquo;ve linked to the screws that I used, but any similar ones should work. Strong glue could also work, but is not recommended.</p>
<p>The m3 screws are for attaching the PCB to the printed part (in yellow, below)
The shorter m4 screws are for attaching the base (yellow) to the lid (dark blue) and the longer screws are for attaching the stack light to the lid.</p>
<figure>
<img src=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/assemble/01_prep.jpg alt="Picture showing some of the components and tools used in assembly.">
<figcaption>
<p>
About to start melting threads into the 3D printed parts.
</p>
</figcaption>
</figure>
<h4 id=stack-light>Stack light</h4>
<p>Looking quickly through Ali Express, it seems that the lights come in a few different styles, but all appear to be modular in construction.
Regardless of lamp style, they all appear to come in 2-5 lamp variants and some have configuration switches that allow for customizing the behavior per lamp.</p>
<p>The ESPHome code and PCB are designed to accommodate up to 6 colors but will work with less.</p>
<p>No matter which style and colors you select, make sure you get one with a <strong>positive <a href=https://en.wikipedia.org/wiki/Anode>anode</a></strong> rated for <strong>12V DC</strong>.</p>
<p>The exact lamp that I used is <a href=https://www.aliexpress.com/item/1005001391165850.html>here</a>.</p>
<h4 id=esp32-module>ESP32 Module</h4>
<p>I chose to use the <a href=https://www.aliexpress.com/item/1005001739834076.html>WirelessTag WT32-eth01</a> module for the onboard Ethernet circuitry at a relatively cheap price: about $10/module. Bonus: it&rsquo;s got a breadboard friendly footprint <em>and</em> castellated pads!</p>
<p>You do not need to use Ethernet for control <em>or</em> power; the ESPHome configuration below can be easily modified to use the WiFi.</p>
<p>In any case, you will need a dedicated UART programmer for the module as there is no built-in USB port on the WT32-eth01.</p>
<h4 id=pcb>PCB</h4>
<p>Nothing much to see here; just a simple board to consolidate connections for what would otherwise be a mess of wires.</p>
<p>Since I was already using Ethernet for the data, may as well use it for the power, too.
Designing my own PoE circuitry was not in scope for this project, so I went with another off-the-shelf <a href=https://www.aliexpress.com/item/32620368747.html>module</a>. I ordered the <code>12V2A-Full 24W</code> version, but the others are likely to also have an identical internal PCB layout which should fit in the 3D printed parts. Make sure to get one that supplies the 12V that the stack light will need!</p>
<p>The PCB does not care <em>where</em> the 12V DC supply comes from.
It wouldn&rsquo;t be difficult to modify the enclosure to accommodate a <a href=https://www.aliexpress.com/item/1005001668143510.html>USB-C Power Delivery module</a> or even just a standard barrel jack / LED power supply.</p>
<p>Like the PoE module, I use an off the shelf DC to DC converter <a href=https://www.aliexpress.com/item/32833398811.html>module</a> to step the 12V down from the PoE dongle to 5V which the ESP32 module requires. That link is to a whole-sale lot of 10 converters. You can order the same module in quantities of one from similar listings. I buy them in bulk because it&rsquo;s more expensive to design and solder my own on each board that I build&mldr;</p>
<p>My testing isn&rsquo;t super through, but I see the total power draw (measured from the PoE supplying equipment) reaching about 4.5W when all lights are on and about 2W at at idle.</p>
<p>The ESP32 just drives some <a href=https://lcsc.com/product-detail/MOSFET_Diodes-Incorporated-DMN1019USN-7_C145103.html>N-Channel MOSFETS</a> to switch the individual lights on/off.
They&rsquo;re the only surface mount (SOT-23-4) component; everything else can be done with through hole components. The board is designed for up to 6 colors/lights, but populate only as many MOSFETS as you need.</p>
<p>All of the screw terminals are optional; I had several spares left over from a different project, but soldering wires directly to the PCB would work as well.</p>
<p>The 6 pin screw terminal is LCSC part <a href=https://lcsc.com/product-detail/Screw-terminal_JILN-JL301-50007U02_C409139.html><code>C409139</code></a></p>
<p>The 2 pin screw terminal is LCSC part <a href=https://lcsc.com/product-detail/Screw-terminal_Ningbo-Kangnex-Elec-WJ129V-5-0-2P_C8463.html><code>C8463</code></a></p>
<p>The source and gerber files from EasyEDA are below. Upload them to your favorite PCB prototyping service or try your hand at making your own.</p>
<h4 id=printed-parts>Printed parts</h4>
<p>There are two parts: a <code>lid</code> and a <code>plate</code>. The electronics are attached to the plate and the stack light is attached to the lid. In the photos associated with this post, the <code>lid</code> is dark blue and the <code>plate</code> is yellow.</p>
<p>The plate has features for several attachment methods:</p>
<ul>
<li>magnets; meant for horizontal surfaces</li>
<li>3M command strip; probably wont be enough to do wall/ceilings, but should work in lieu of magnets on horizontal surfaces</li>
<li>4 circular indents (<code>10mm</code> diameter) included for anti-slip pads</li>
<li>drywall screw/slot mounting for walls/ceilings</li>
</ul>
<figure>
<img src=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/assemble/base_mounting_options.png alt="Picture annotated to call out specific design features in the base for a variety of mounting options.">
<figcaption>
<p>
I wasn't sure where I'd want to install this, so there are a few options for attaching the base to surfaces.
</p>
</figcaption>
</figure>
<p>Pause the print job at the correct layer if you intend to embed magnets:</p>
<figure>
<img src=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/slicer.png alt="Screenshot showing 3D printed parts arranged on slicing software with annotation pointing out when to insert optional magnets.">
<figcaption>
<p>
Insert your magnets before the layer covering thee 6 cavities is printed.
</p>
</figcaption>
</figure>
<p>Both the <code>lid</code> and <code>base</code> are easy to print; material and color are up to you, as is layer height and quality settings. The <code>stl</code> and <code>step</code> files for both are at the end of this post.
Should you want to make your own enclosure from scratch, I have also included the <code>step</code> files for the PoE dongle and PCB below.</p>
<h2 id=assemble>Assemble</h2>
<p>Assembly is relatively straightforward; its mostly integrating a few components into a simple 3d printed enclosure.</p>
<h3 id=pcb-1>PCB</h3>
<p>Solder the electronic components to the PCB. If omitting screw terminals for the stack light wires, do not solder them to the PCB yet!</p>
<p>I created the castellated pad footprint for the ESP32 module by hand and, in the version of the PCB pictured, didn&rsquo;t get the pads as close as they should be so there are some ugly solder blobs to compensate. The pads are correctly placed on the most recent PCB revision.</p>
<p>I have included two programming headers on the PCB to flash your firmware; one at <code>2.54mm</code> pitch and the other at <code>1.0mm</code> pitch, the latter of which is intended for use with <a href=https://www.aliexpress.com/item/4001122992446.html>this</a> programmer.</p>
<p>There is a solder bridge labeled <code>EXT 3v3</code>; short this out if you intend to use the programmer to power the ESP32 module. Leave it alone if you plan to use external DC to power the device during programming.</p>
<p>I suggest programming the module <em>now</em> to verify that you&rsquo;ve built the PCB correctly and that your stack light works as expected.
Once you&rsquo;ve confirmed the electronics and software all work together, proceed to final assembly.</p>
<h2 id=everything-else>Everything else</h2>
<p>The various holes designed to receive screw threads are intentionally undersized. If you&rsquo;re not using self-tapping screws, you&rsquo;ll find it MUCH EASER to insert a <em>hot</em> screw for the first time.</p>
<p>With the screw on the end of the driver, hold the tip of the screw/threads under a flame for 5-10 seconds and then quickly rotate the screw into the plastic using a bit of extra &lsquo;pushing&rsquo; force.
Once the screw is fully inserted, allow it to fully cool (~5min) so the softened plastic has a chance to solidify around the screw threads.</p>
<p>The screws that hold the base plate to the body of the enclosure are meant to sit flush. Ensure that you screw them in fully before the plastic cools!</p>
<figure>
<img src=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/assemble/00_flush_screws.jpg alt="Picture showing assembly detail; the base plate is secured to the enclosure with screws.">
<figcaption>
<p>
If the screws protrude even a fraction of a millimeter, the light can wobble and the magnetic attachment is weakened.
</p>
</figcaption>
</figure>
<p>While waiting for the screws to cool, cut the Ethernet and power leads from the PoE dongle down to size. Desolder the leads from the dongle, trim to be as short as possible and re-solder.</p>
<p>The less &lsquo;slack&rsquo; cable in the enclosure, the easier it will be to finish assembly!</p>
<figure>
<img src=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/assemble/03_wire.jpg alt="Picture showing all components secured to the base and wired together.">
<figcaption>
<p>
I cut a few inches off the Ethernet cable and power leads so everything fits in the enclosure better.
</p>
</figcaption>
</figure>
<p>After the screws have cooled, ensure that the PCB sits flush against the mounts.</p>
<figure>
<img src=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/assemble/02_pcb_attached.jpg alt="Picture showing assembly detail; the PCB should be attached to the base plate with screws and should be flush against the mounting posts.">
<figcaption>
<p>
PCB should be flush against the mounting posts.
</p>
</figcaption>
</figure>
<p>With all wires connected, lift the PoE dongle off of the base plate slightly and align the RJ45 jack with the square hole in the enclosure.</p>
<p>Make sure the side of the base plate opposite the side with the RJ45 jack is securely mounts into the body of the enclosure!</p>
<p>Gently press the remaining side of the base plate into the enclosure. As the base plate gets closer to flush with the body, the RJ45 jack should slowly come into alignment with the wall.</p>
<figure>
<img src=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/assemble/04_close.jpg alt="Picture showing assembly detail; the base plate acts like a lever to carefully line the PoE jack up with the enclosure body.">
<figcaption>
<p>
Use the plate as a lever to carefully push, then hold, the PoE dongle in place.
</p>
</figcaption>
</figure>
<p>When the base blate is completely installed into the body, the RJ45 jack should be flush with the external wall of the enclosure.</p>
<figure>
<img src=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/complete/00_plugged_in.jpg alt="Picture showing assembled light attached to enclosure, focus is on the RJ45 port in the rear.">
<figcaption>
<p>
RJ45 jack should be flush to the outer wall of the enclosure.
</p>
</figcaption>
</figure>
<p>Attach the base plate to the enclosure body with the 4 screws, attach silicon feet or a 3M command strip and then you&rsquo;re done!</p>
<figure>
<img src=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/complete/01_all_off.jpg alt="Picture showing assembled light attached to enclosure from the front. No individual light is powered up, they all have the same translucent white color.">
<figcaption>
<p>
Translucent white lenses for much less ambiguity than the stack lights with colored lenses.
</p>
</figcaption>
</figure>
<h2 id=files>Files</h2>
<p>All files below are licensed under the <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0)</a> license unless otherwise explicitly noted.</p>
<p><strong>None of the files below may be used for commercial purposes</strong></p>
<ul>
<li>
<figure>
<a target=_blank href=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/complete/01_all_off.jpg>
<img style=width:auto;height:auto src=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/complete/01_all_off_hu84f091d21918fb28ffc476c083a4465b_2479126_300x0_resize_q75_box.jpg width=300 height=533>
</a>
<figcaption>
<small>Translucent white lenses for much less ambiguity than the stack lights with colored lenses.</small>
</figcaption>
</figure>
</li>
<li>
<figure>
<a target=_blank href=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/assemble/base_mounting_options.png>
<img style=width:auto;height:auto src=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/assemble/base_mounting_options_hu0255bedc4865d595b96a27a21ce41057_6482507_300x0_resize_box_3.png width=300 height=219>
</a>
<figcaption>
<small>I wasn't sure where I'd want to install this, so there are a few options for attaching the base to surfaces.</small>
</figcaption>
</figure>
</li>
<li>
<figure>
<a target=_blank href=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/assemble/04_close.jpg>
<img style=width:auto;height:auto src=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/assemble/04_close_hubc1f23a45a7d66648fd74e7a8ca6d1fb_1183389_300x0_resize_q75_box.jpg width=300 height=207>
</a>
<figcaption>
<small>Use the plate as a lever to carefully push, then hold, the PoE dongle in place.</small>
</figcaption>
</figure>
</li>
<li>
<figure>
<a target=_blank href=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/complete/02_all_on.jpg>
<img style=width:auto;height:auto src=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/complete/02_all_on_hu4a267d1b9fd60bea51ae86d52a8277a3_2512058_300x0_resize_q75_box.jpg width=300 height=533>
</a>
<figcaption>
<small>The lights are much brighter than they appear in this picture; had to intentionally darken the image to prevent camera from blowing out the colors.</small>
</figcaption>
</figure>
</li>
<li>
<a target=_blank href=https://karlquinsland.com/2021/02/poe-powered-stack-light/files/easy_eda_gerber.zip>
<i class="far fa-file-"></i>
files/easy_eda_gerber.zip:
<br>
<small>sha1: d7686b0ad88a1686a5a11cb009632b53ca474c75</small>
</a>
</li>
<li>
<a target=_blank href=https://karlquinsland.com/2021/02/poe-powered-stack-light/files/easy_eda_source.zip>
<i class="far fa-file-"></i>
files/easy_eda_source.zip:
<br>
<small>sha1: e05a00cdca9af94dd0e8d1d8f3aa998b75c14a08</small>
</a>
</li>
<li>
<a target=_blank href=https://karlquinsland.com/2021/02/poe-powered-stack-light/files/enclosure-lid-m1v2.stl>
<i class="far fa-file-code"></i>
files/enclosure-lid-m1v2.stl:
<small style="font-family:lucida console,monospace">stl</small> <small>file</small>
<br>
<small>sha1: 3870a674d9cf08bf26e3607e42ee766e9816ac6c</small>
</a>
</li>
<li>
<a target=_blank href=https://karlquinsland.com/2021/02/poe-powered-stack-light/files/enclosure-plate-m1v2.stl>
<i class="far fa-file-code"></i>
files/enclosure-plate-m1v2.stl:
<small style="font-family:lucida console,monospace">stl</small> <small>file</small>
<br>
<small>sha1: 8f90b54be2a798cf87bc6ca4fc118b82669e0668</small>
</a>
</li>
<li>
<a target=_blank href=https://karlquinsland.com/2021/02/poe-powered-stack-light/files/esphome_confg.yaml>
<i class="far fa-file-code"></i>
files/esphome_confg.yaml:
<small style="font-family:lucida console,monospace">yaml</small> <small>file</small>
<br>
<small>sha1: aa0076b7bee08f09568536463c8794f15a2f59b2</small>
</a>
</li>
<li>
<a target=_blank href=https://karlquinsland.com/2021/02/poe-powered-stack-light/files/pcb.step>
<i class="far fa-file-code"></i>
files/pcb.step:
<small style="font-family:lucida console,monospace">step</small> <small>file</small>
<br>
<small>sha1: e212f3cd3d90a639e6518b7d11bc5cc20df09b67</small>
</a>
</li>
<li>
<a target=_blank href=https://karlquinsland.com/2021/02/poe-powered-stack-light/files/poe-dongle.step>
<i class="far fa-file-code"></i>
files/poe-dongle.step:
<small style="font-family:lucida console,monospace">step</small> <small>file</small>
<br>
<small>sha1: a698c249d89f2ab2c981427df49620cb09ce5f66</small>
</a>
</li>
<li>
<a target=_blank href=https://karlquinsland.com/2021/02/poe-powered-stack-light/files/stack-light-base.step>
<i class="far fa-file-code"></i>
files/stack-light-base.step:
<small style="font-family:lucida console,monospace">step</small> <small>file</small>
<br>
<small>sha1: 3c3d0d6162a985b4f09d0f9a58fdacb3f08beb78</small>
</a>
</li>
<li>
<figure>
<a target=_blank href=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/assemble/00_flush_screws.jpg>
<img style=width:auto;height:auto src=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/assemble/00_flush_screws_hu18db716c238b723311721626527a5273_846653_300x0_resize_q75_box.jpg width=300 height=174>
</a>
<figcaption>
<small>If the screws protrude even a fraction of a millimeter, the light can wobble and the magnetic attachment is weakened.</small>
</figcaption>
</figure>
</li>
<li>
<figure>
<a target=_blank href=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/home-assistant.png>
<img style=width:auto;height:auto src=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/home-assistant_hue2400f52af2e5683bcea0d6b26c960ad_49477_300x0_resize_box_3.png width=300 height=620>
</a>
<figcaption>
<small>Stack light is controlled via MQTT making it easy to control from Home Assistant or any other program that can speak MQTT.</small>
</figcaption>
</figure>
</li>
<li>
<figure>
<a target=_blank href=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/assemble/02_pcb_attached.jpg>
<img style=width:auto;height:auto src=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/assemble/02_pcb_attached_hu5b86cc1ae1d4eb0e7da297e27c7c6e45_630086_300x0_resize_q75_box.jpg width=300 height=196>
</a>
<figcaption>
<small>PCB should be flush against the mounting posts.</small>
</figcaption>
</figure>
</li>
<li>
<figure>
<a target=_blank href=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/complete/00_plugged_in.jpg>
<img style=width:auto;height:auto src=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/complete/00_plugged_in_hue44ce946944af7eac0fca70ddaff3b51_503633_300x0_resize_q75_box.jpg width=300 height=237>
</a>
<figcaption>
<small>RJ45 jack should be flush to the outer wall of the enclosure.</small>
</figcaption>
</figure>
</li>
<li>
<figure>
<a target=_blank href=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/assemble/01_prep.jpg>
<img style=width:auto;height:auto src=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/assemble/01_prep_hufd56786e8b571605c37596e2d15f02f0_1406212_300x0_resize_q75_box.jpg width=300 height=284>
</a>
<figcaption>
<small>About to start melting threads into the 3D printed parts.</small>
</figcaption>
</figure>
</li>
<li>
<figure>
<a target=_blank href=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/slicer.png>
<img style=width:auto;height:auto src=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/slicer_hu2585a2c3a0d5ec88fd8e2ca55641b8fa_1301722_300x0_resize_box_3.png width=300 height=233>
</a>
<figcaption>
<small>Insert your magnets before the layer covering thee 6 cavities is printed.</small>
</figcaption>
</figure>
</li>
<li>
<figure>
<a target=_blank href=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/assemble/03_wire.jpg>
<img style=width:auto;height:auto src=https://karlquinsland.com/2021/02/poe-powered-stack-light/images/assemble/03_wire_hu33054df258a5fc4cb91d7d64e8a6a076_1857284_300x0_resize_q75_box.jpg width=300 height=186>
</a>
<figcaption>
<small>I cut a few inches off the Ethernet cable and power leads so everything fits in the enclosure better.</small>
</figcaption>
</figure>
</li>
</ul>
</div>
<footer>
</footer>
</article>
</section>
</div>
<footer class=footer>
<section class=container>
<p>Â¯\_(ãƒ„)_/Â¯</p>
Â©
2021
karl quinsland
Â·
Powered by <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/>Coder</a>.
</section>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-173167356-1','auto'),ga('send','pageview'))</script>
</footer>
</main>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-173167356-1','auto'),ga('send','pageview'))</script>
</body>
</html>