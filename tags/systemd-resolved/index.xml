<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Systemd-Resolved on karl</title><link>https://karlquinsland.com/tags/systemd-resolved/</link><description>Recent content in Systemd-Resolved on karl</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Tue, 21 Jul 2020 00:00:00 +0000</lastBuildDate><atom:link href="https://karlquinsland.com/tags/systemd-resolved/index.xml" rel="self" type="application/rss+xml"/><item><title>Systemd Resolved With Consul Agent</title><link>https://karlquinsland.com/systemd-resolved-with-consul-agent/</link><pubDate>Tue, 21 Jul 2020 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/systemd-resolved-with-consul-agent/</guid><description>&lt;p&gt;I pieced this technique together a while back and created a gist for it. I&amp;rsquo;m creating &lt;em&gt;this&lt;/em&gt; post as a pointer to that gist so I have something that&amp;rsquo;s a bit easier to reference and refer others to.&lt;/p&gt;
&lt;p&gt;And i want to test out the &lt;a href="https://gohugo.io/content-management/shortcodes/#gist" target="_blank" rel="noopener noreffer "&gt;hugo shortcode for embedding a gist&lt;/a&gt; :smirk:.&lt;/p&gt;
&lt;p&gt;The really short version:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create a dedicated interface that can only be accessed from the local system&lt;/li&gt;
&lt;li&gt;Bind the consul-agent&amp;rsquo;s DNS service to this local only interface&lt;/li&gt;
&lt;li&gt;Tell &lt;a href="https://www.freedesktop.org/software/systemd/man/systemd-resolved.service.html" target="_blank" rel="noopener noreffer "&gt;&lt;code&gt;systemd-resolved&lt;/code&gt;&lt;/a&gt; that all hostnames with the &lt;code&gt;.consul&lt;/code&gt; TLD can be resolved via a DNS server on this local interface&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;No need to disable &lt;code&gt;resolved&lt;/code&gt; and replace it with dnsmasq :smile:&lt;/p&gt;</description></item></channel></rss>