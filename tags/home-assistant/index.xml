<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Home-Assistant on karl</title><link>https://karlquinsland.com/tags/home-assistant/</link><description>Recent content in Home-Assistant on karl</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Sat, 15 Feb 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://karlquinsland.com/tags/home-assistant/index.xml" rel="self" type="application/rss+xml"/><item><title>#TwoMinuteTeardown: Panel Mount Liquid Level Indicator</title><link>https://karlquinsland.com/generic-liquid-level-display/</link><pubDate>Sat, 15 Feb 2025 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/generic-liquid-level-display/</guid><description>&lt;h1 id="generic-liquid-level-meter-teardown"&gt;Generic liquid level meter teardown&lt;/h1&gt;
&lt;p&gt;I ordered this part years ago for a project I eventually canceled.&lt;/p&gt;
&lt;p&gt;I can&amp;rsquo;t use it for anything, and it&amp;rsquo;s just taking up space, so I&amp;rsquo;m going to open it up before I recycle it.&lt;/p&gt;
&lt;p&gt;The Ali Express listing is a 404 so I don&amp;rsquo;t have a link to share or really any information about it.&lt;/p&gt;
&lt;p&gt;The main thing to take away is that it&amp;rsquo;s meant to interface with a liquid level sensor.
It will display the level of liquid in a tank and - optionally - trigger a few relays based on the level.&lt;/p&gt;</description></item><item><title>#TwoMinuteTeardown: Home Assistant Voice - Preview Edition</title><link>https://karlquinsland.com/home-assistant-voice-pe-teardown/</link><pubDate>Sat, 01 Feb 2025 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/home-assistant-voice-pe-teardown/</guid><description>&lt;h1 id="home-assistant-voice-preview-edition-teardown"&gt;Home Assistant Voice: Preview Edition teardown&lt;/h1&gt;
&lt;p&gt;This is a quick &lt;a href="https://karlquinsland.com/tags/two-minute-teardown/" rel=""&gt;#TwoMinuteTeardown&lt;/a&gt; post for the recently released &lt;a href="https://www.home-assistant.io/voice-pe/" target="_blank" rel="noopener noreffer "&gt;Home Assistant Voice Node - Preview edition&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Normally, I&amp;rsquo;d be doing a full teardown, but this is a little different; the Home Assistant team has done a &lt;em&gt;lot&lt;/em&gt; of the work out in the open.
With just a quick Google, you can find official:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;teardown instructions &lt;a href="https://voice-pe.home-assistant.io/guides/disassemble/" target="_blank" rel="noopener noreffer "&gt;here&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;source code &lt;a href="https://github.com/esphome/home-assistant-voice-pe" target="_blank" rel="noopener noreffer "&gt;here&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;3D printable case &lt;a href="https://www.printables.com/model/1110526-home-assistant-voice-preview-edition-enclosure" target="_blank" rel="noopener noreffer "&gt;files&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Instructions for adding custom devices &lt;a href="https://voice-pe.home-assistant.io/guides/grove_port/" target="_blank" rel="noopener noreffer "&gt;here&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I am grateful for such a well-documented and open project.
Truly, by hackers for hackers!&lt;/p&gt;</description></item><item><title>Monitoring HVAC system with ESPHome</title><link>https://karlquinsland.com/esphome-hvac-monitor/</link><pubDate>Sat, 02 Nov 2024 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/esphome-hvac-monitor/</guid><description>&lt;h1 id="using-esphome-to-monitor-hvac-system"&gt;Using ESPHome to Monitor HVAC System&lt;/h1&gt;
&lt;p&gt;Here&amp;rsquo;s a quick &amp;ldquo;show-and-tell&amp;rdquo; about a recent project I completed.&lt;/p&gt;
&lt;h2 id="the-concept"&gt;The concept&lt;/h2&gt;
&lt;p&gt;I&amp;rsquo;m not sure how I first came across the idea of measuring air pressure drop across a filter to gauge its remaining life, but I remember thinking it was a great idea.&lt;/p&gt;
&lt;figure &gt;

 
 &lt;img src="https://karlquinsland.com/esphome-hvac-monitor/images/concept.webp" alt="Conceptual diagram for the project." /&gt;
 

 

 &lt;figcaption&gt;
 
 &lt;p&gt;
 Conceptual diagram for the project.
 
 
 
 &lt;/p&gt; 
 &lt;/figcaption&gt;
 
&lt;/figure&gt;


&lt;p&gt;The idea has been lurking in the back of my mind for a while, but I never got around to implementing it&amp;hellip; until now.&lt;/p&gt;</description></item><item><title>Arizer XQ2 Teardown</title><link>https://karlquinsland.com/arizer-xq2-teardown/</link><pubDate>Mon, 01 Jul 2024 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/arizer-xq2-teardown/</guid><description>&lt;!-- markdownlint-disable-file MD002 --&gt;
&lt;h1 id="arizer-xq2-teardown"&gt;Arizer XQ2 Teardown&lt;/h1&gt;
&lt;figure &gt;

 
 &lt;img src="https://karlquinsland.com/arizer-xq2-teardown/images/product01.webp" /&gt;
 

 

 &lt;figcaption&gt;
 
 
 &lt;/figcaption&gt;
 
&lt;/figure&gt;


&lt;p&gt;A friend of mine reached out and asked me about automating some aspects of their &lt;a href="https://www.webmd.com/balance/stress-management/aromatherapy-overview" target="_blank" rel="noopener noreffer "&gt;aroma therapy&lt;/a&gt; treatment.&lt;/p&gt;
&lt;div class="details admonition note open"&gt;
 &lt;div class="details-summary admonition-title"&gt;
 &lt;i class="icon fas fa-pencil-alt fa-fw" aria-hidden="true"&gt;&lt;/i&gt;Note&lt;i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"&gt;&lt;/i&gt;
 &lt;/div&gt;
 &lt;div class="details-content"&gt;
 &lt;div class="admonition-content"&gt;I was not given permission to share the specifics of their medical condition or the larger treatment plan so this post is going to deal with &lt;em&gt;just&lt;/em&gt; the technical aspects of the device.&lt;/div&gt;
 &lt;/div&gt;
 &lt;/div&gt;
&lt;p&gt;The device they&amp;rsquo;re using for aromatherapy is the &lt;a href="https://arizer.com/xq2/" target="_blank" rel="noopener noreffer "&gt;Arizer XQ2&lt;/a&gt; and we agreed that integration with their existing Home Assistant setup would be ideal.&lt;/p&gt;</description></item><item><title>Using ESPHome to Automatically restart frozen cable modem</title><link>https://karlquinsland.com/automatic-modem-restart-with-esphome/</link><pubDate>Sun, 09 Jun 2024 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/automatic-modem-restart-with-esphome/</guid><description>&lt;!-- markdownlint-disable-file MD002 --&gt;
&lt;p&gt;Part of the reason for developing my &lt;a href="https://karlquinsland.com/arris-sb8200-prometheus-exporter/" rel=""&gt;SB8200 monitor&lt;/a&gt; was to get to the bottom of some infrequent but regular outages.&lt;/p&gt;
&lt;p&gt;To make a long story short, the &lt;a href="https://en.wikipedia.org/wiki/Link_aggregation" target="_blank" rel="noopener noreffer "&gt;LAG&lt;/a&gt; implementation on the modem seems to have some issues.
A quick google will return many complaint threads detailing issues with the modem regularly locking up all traffic stopping.
More annoyingly, these reports date back &lt;em&gt;years&lt;/em&gt; and allege that later revisions of the firmware &lt;em&gt;might&lt;/em&gt; fix the issue for good.&lt;/p&gt;</description></item><item><title>ESPHome for Sonoff T5 family of Switches</title><link>https://karlquinsland.com/sonoff-t5-esphome/</link><pubDate>Sat, 11 Nov 2023 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/sonoff-t5-esphome/</guid><description>&lt;h1 id="esphome-for-sonoff-t5-family-of-switches"&gt;ESPHome for Sonoff T5 family of Switches&lt;/h1&gt;
&lt;p&gt;It&amp;rsquo;s hard to beat Sonoff switches when it comes to well-made, affordable, Home Assistant compatible switches.
Ever since they announced the &lt;a href="https://sonoff.tech/product/smart-wall-switches/tx-ultimate/" target="_blank" rel="noopener noreffer "&gt;T5 series&lt;/a&gt;, I&amp;rsquo;ve been patiently waiting for the US variant to become available so I could replace my M5 switches with T5 switches.&lt;/p&gt;
&lt;p&gt;Don&amp;rsquo;t get me wrong, the M5 switches are great&amp;hellip; but &lt;a href="#t5-improvements-over-m5" rel=""&gt;not perfect&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The T5 switches improve on the M5 limitations with some new and novel hardware features.
Taking advantage of these unique features requires a considerably more complex &lt;a href="#esphome-configuration" rel=""&gt;ESPHome configuration&lt;/a&gt; than the M5 series switches.&lt;/p&gt;</description></item><item><title>ESPHome on the Yeelight Monitor Light Bar Pro</title><link>https://karlquinsland.com/yeelight-monitor-lamp-teardown-esphome/</link><pubDate>Mon, 18 Sep 2023 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/yeelight-monitor-lamp-teardown-esphome/</guid><description>&lt;h1 id="yeelight-light-bar-pro-yltd003-teardown"&gt;Yeelight Light Bar Pro (YLTD003) Teardown&lt;/h1&gt;
&lt;p&gt;Monitor-top light bars are wonderful for reducing eye strain and fatigue and the effect is even better with a bias light behind the monitor.
Enter the &lt;a href="https://www.aliexpress.us/item/3256801709519092.html" target="_blank" rel="noopener noreffer "&gt;Yeelight Light Bar Pro (YLTD003)&lt;/a&gt;.&lt;/p&gt;
&lt;figure &gt;

 
 &lt;img src="https://karlquinsland.com/yeelight-monitor-lamp-teardown-esphome/images/marketing-photo.webp" alt="YeeLight marketing photo from AliExpress listing. The background wash light really does help reduce eye strain and fatigue." /&gt;
 

 

 &lt;figcaption&gt;
 
 &lt;p&gt;
 YeeLight marketing photo from AliExpress listing. The background wash light really does help reduce eye strain and fatigue.
 
 
 
 &lt;/p&gt;</description></item><item><title>ESPHome on dingtian-tech relay modules</title><link>https://karlquinsland.com/dingtian-2ch-relay-with-esphome/</link><pubDate>Fri, 21 Apr 2023 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/dingtian-2ch-relay-with-esphome/</guid><description>&lt;!-- markdownlint-disable-file MD002 --&gt;
&lt;p&gt;This is another one of those quick &amp;ldquo;I wish that was easier to find when I was googling it&amp;rdquo; posts.&lt;/p&gt;
&lt;p&gt;For a project, I needed a small relay module to switch a few mains loads.
I chose this generic looking relay module from AliExpress because it was powered by an ESP32 and featured ethernet connectivity.&lt;/p&gt;
&lt;figure &gt;

 
 &lt;img src="https://karlquinsland.com/dingtian-2ch-relay-with-esphome/images/product_image.webp" /&gt;
 

 

 &lt;figcaption&gt;
 
 
 &lt;/figcaption&gt;
 
&lt;/figure&gt;


&lt;p&gt;AliExpress is full of generic looking relay modules but &lt;a href="https://www.aliexpress.us/item/2255800812755068.html" target="_blank" rel="noopener noreffer "&gt;this&lt;/a&gt; one is branded &lt;a href="https://www.dingtian-tech.com/en_us/relay2.html" target="_blank" rel="noopener noreffer "&gt;&lt;code&gt;dingtian-tech&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Frigate From Scratch guide</title><link>https://karlquinsland.com/frigate-install/</link><pubDate>Sat, 04 Mar 2023 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/frigate-install/</guid><description>&lt;!-- markdownlint-disable-file MD002 --&gt;
&lt;div class="details admonition info open"&gt;
 &lt;div class="details-summary admonition-title"&gt;
 &lt;i class="icon fas fa-info-circle fa-fw" aria-hidden="true"&gt;&lt;/i&gt;FYI&lt;i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"&gt;&lt;/i&gt;
 &lt;/div&gt;
 &lt;div class="details-content"&gt;
 &lt;div class="admonition-content"&gt;Portions of this post was edited for clarity with the help of &lt;a href="https://chat.openai.com/" target="_blank" rel="noopener noreffer "&gt;ChatGPT&lt;/a&gt;.&lt;/div&gt;
 &lt;/div&gt;
 &lt;/div&gt;
&lt;hr&gt;
&lt;p&gt;The &lt;a href="https://frigate.video/" target="_blank" rel="noopener noreffer "&gt;Frigate NVR&lt;/a&gt; project is a relatively new entrant to the home security camera DVR space.
Like most immature yet popular software, it has a killer feature - very good object detection that just worksâ„¢ and robust &lt;a href="https://docs.frigate.video/integrations/home-assistant/" target="_blank" rel="noopener noreffer "&gt;Home Assistant integration&lt;/a&gt;.&lt;/p&gt;</description></item><item><title>Integrating a dumb coffee maker with Home Assistant via ESPHome</title><link>https://karlquinsland.com/improved-esphome-coffee-automation/</link><pubDate>Sat, 21 Jan 2023 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/improved-esphome-coffee-automation/</guid><description>&lt;!-- markdownlint-disable-file MD002 --&gt;
&lt;p&gt;My beloved coffee maker of 10 years has finally died ðŸ˜¢.
Parts are no longer available from either the manufacturer or the second-hand market.&lt;/p&gt;
&lt;p&gt;Taking advantage of a (slight) holiday sale discount, I pulled the trigger on a coffee maker that&amp;rsquo;s &lt;a href="https://us.moccamaster.com/pages/sustainability-at-our-core" target="_blank" rel="noopener noreffer "&gt;designed to be repairable forever&lt;/a&gt;.
The perpetual serviceability is a side effect of an ultra-simple design; this coffee maker has &lt;em&gt;zero&lt;/em&gt; intelligent features which means there&amp;rsquo;s next to no remote control or customizability.&lt;/p&gt;</description></item><item><title>Integrating ESPHome with a cheap Geiger Counter</title><link>https://karlquinsland.com/esphome-geiger-counter/</link><pubDate>Wed, 09 Nov 2022 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/esphome-geiger-counter/</guid><description>&lt;p&gt;Yes, there have &lt;a href="https://community.home-assistant.io/t/geiger-counter-with-ha-integration/107660/12" target="_blank" rel="noopener noreffer "&gt;been&lt;/a&gt; &lt;em&gt;loads&lt;/em&gt; of &lt;a href="https://www.rhelectronics.store/radiation-detector-geiger-counter-diy-kit-second-edition" target="_blank" rel="noopener noreffer "&gt;people&lt;/a&gt; doing &lt;a href="https://www.connectix.nl/connecting-a-geiger-counter-to-home-assistant/" target="_blank" rel="noopener noreffer "&gt;similar&lt;/a&gt; &lt;a href="https://old.reddit.com/r/homeassistant/comments/l92fbf/doomsday_sensor_v10/" target="_blank" rel="noopener noreffer "&gt;things&lt;/a&gt;! ESPHome already has a tutorial &lt;a href="https://esphome.io/cookbook/geiger-counter.html" target="_blank" rel="noopener noreffer "&gt;covering &lt;em&gt;exactly&lt;/em&gt; this&lt;/a&gt;!&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m writing this up because the approach that I ended up taking was &lt;em&gt;not&lt;/em&gt; the intended/planned approach.&lt;/p&gt;
&lt;!-- markdownlint-disable-file MD002 --&gt;
&lt;h2 id="the-geiger-counter"&gt;The Geiger Counter&lt;/h2&gt;
&lt;p&gt;I originally pulled the trigger on this particular version because it had a built in screen attached to a micro controller.&lt;/p&gt;
&lt;figure &gt;

 
 &lt;img src="https://karlquinsland.com/esphome-geiger-counter/images/ali_img.webp" /&gt;
 

 

 &lt;figcaption&gt;
 
 
 &lt;/figcaption&gt;
 
&lt;/figure&gt;


&lt;p&gt;I naÃ¯vely thought that I&amp;rsquo;d be able to get a simple UART from the 4 pins next to the microcontroller or maybe even get data directly off of the micro USB port.&lt;/p&gt;</description></item><item><title>ESPHome for Sinilink PC remotes</title><link>https://karlquinsland.com/esphome-sinilink-pc-remotes/</link><pubDate>Sat, 22 Oct 2022 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/esphome-sinilink-pc-remotes/</guid><description>&lt;h1 id="pc-power-remote-control"&gt;PC (power) remote control&lt;/h1&gt;
&lt;p&gt;While doing research for a potential project, I stumbled onto a device that fit&amp;rsquo;s so squarely into that &amp;ldquo;it&amp;rsquo;s so simple and obvious, why didn&amp;rsquo;t I think tof that?!&amp;rdquo; category that I immediately placed an order for a few.&lt;/p&gt;
&lt;p&gt;That device?&lt;/p&gt;
&lt;p&gt;A simple WiFi equipped micro controller that gets wired between the power button on a PC and the motherboard.
This makes it possible to remotely control and monitor the power state of any PC!&lt;/p&gt;</description></item><item><title>Using ESPHome with the Treatlife DS03</title><link>https://karlquinsland.com/treatlife-ds03-esphome/</link><pubDate>Thu, 09 Jun 2022 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/treatlife-ds03-esphome/</guid><description>&lt;div class="details admonition tip open"&gt;
 &lt;div class="details-summary admonition-title"&gt;
 &lt;i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"&gt;&lt;/i&gt;Post depreciation notice&lt;i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"&gt;&lt;/i&gt;
 &lt;/div&gt;
 &lt;div class="details-content"&gt;
 &lt;div class="admonition-content"&gt;This is an update to the &lt;a href="https://karlquinsland.com/treatlife-ds03-tasmota-autoconfig-with-homeassistant/" rel=""&gt;&lt;code&gt;Fixing Home Assistant discovery with Tasmota on the Treatlife DS03&lt;/code&gt; post&lt;/a&gt;.&lt;/div&gt;
 &lt;/div&gt;
 &lt;/div&gt;
&lt;h1 id="tasmota-reliability"&gt;Tasmota reliability&lt;/h1&gt;
&lt;p&gt;A few months ago, I started to notice some bizarre behavior with the DS03 ceiling fan controllers that I had previously flashed with Tasmota.
Very regularly, the devices would crash and reboot! I almost never noticed unless I was explicitly looking at the uptime / boot count graphs for the devices but every once in a while, the device would reboot &lt;em&gt;right as I was trying to control it remotely&lt;/em&gt;.&lt;/p&gt;</description></item><item><title>Configuring additional ZwaveJS entities in Home Assistant over MQTT</title><link>https://karlquinsland.com/zwavejs-autodiscovery-additional-entities/</link><pubDate>Thu, 12 May 2022 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/zwavejs-autodiscovery-additional-entities/</guid><description>&lt;p&gt;This is a super quick &amp;ldquo;because the official docs didn&amp;rsquo;t make it super clear so here&amp;rsquo;s what ended up working for me&amp;rdquo; post.&lt;/p&gt;
&lt;hr&gt;
&lt;!-- markdownlint-disable-file MD033 --&gt;
&lt;p&gt;After some &lt;a href="https://karlquinsland.com/venstar-t7850-teardown-review/#an-update-on-wifi-connectivity" rel=""&gt;very disappointing WiFi connectivity issues&lt;/a&gt;, I settled on a Zwave based thermostat to replace the Venstar thermostat.&lt;/p&gt;
&lt;p&gt;After installing the Honeywell TH6320 and connecting it to the ZwaveJS gateway, a new `climate`` entity appeared in Home Assistant. From there, I was able to see/control:&lt;/p&gt;</description></item><item><title>Quick look inside Venstar T7850 - One of the only 'no-cloud' WiFi Thermostats that plays nice with Home Assistant</title><link>https://karlquinsland.com/venstar-t7850-teardown-review/</link><pubDate>Sat, 23 Apr 2022 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/venstar-t7850-teardown-review/</guid><description>&lt;div class="details admonition info open"&gt;
 &lt;div class="details-summary admonition-title"&gt;
 &lt;i class="icon fas fa-info-circle fa-fw" aria-hidden="true"&gt;&lt;/i&gt;Info&lt;i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"&gt;&lt;/i&gt;
 &lt;/div&gt;
 &lt;div class="details-content"&gt;
 &lt;div class="admonition-content"&gt;As of 2022-05-11, there is an update on my experience with the thermostat &lt;a href="#an-update-on-wifi-connectivity" rel=""&gt;below&lt;/a&gt;!&lt;/div&gt;
 &lt;/div&gt;
 &lt;/div&gt;
&lt;p&gt;This is another one of those posts from my never ending quest to integrate Home Assistant with All The Things!&lt;/p&gt;
&lt;p&gt;The thermostat that was installed when I moved in was an early Nest thermostat. These thermostats are - for the most part - well reviewed and liked. I had no complaints&amp;hellip; except one.&lt;/p&gt;</description></item><item><title>Inside a generic/white-label HDMI KVM Switch</title><link>https://karlquinsland.com/hdmi-kvm-teardown-and-esphome/</link><pubDate>Sat, 16 Apr 2022 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/hdmi-kvm-teardown-and-esphome/</guid><description>&lt;p&gt;If you&amp;rsquo;re here just for &amp;ldquo;how do I get it working with ESPHome&amp;rdquo; bit, skip to the &lt;a href="#esphome-component" rel=""&gt;ESPHome Component&lt;/a&gt; section below.&lt;/p&gt;
&lt;hr&gt;
&lt;div class="details admonition important open"&gt;
 &lt;div class="details-summary admonition-title"&gt;
 &lt;i class="icon fas fa-pencil-alt fa-fw" aria-hidden="true"&gt;&lt;/i&gt;Update 2022.05.14&lt;i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"&gt;&lt;/i&gt;
 &lt;/div&gt;
 &lt;div class="details-content"&gt;
 &lt;div class="admonition-content"&gt;I have just uploaded a basic PCB and enclosure to the &lt;a href="#esphome-component" rel=""&gt;ESPHome Component Repository&lt;/a&gt;.&lt;/div&gt;
 &lt;/div&gt;
 &lt;/div&gt;
&lt;p&gt;For the last few months, I have been looking for a KVM switch to simplify switching between work and personal computers.
Initially, I didn&amp;rsquo;t think my criteria were that unreasonable, but for whatever reason there is no KVM switch that:&lt;/p&gt;</description></item><item><title>Installing Tasmota on the Xiaomi Desk Lamp</title><link>https://karlquinsland.com/xaomi-s1-monitor-lamp-teardown-and-tasmota/</link><pubDate>Sat, 22 Jan 2022 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/xaomi-s1-monitor-lamp-teardown-and-tasmota/</guid><description>&lt;div class="details admonition note open"&gt;
 &lt;div class="details-summary admonition-title"&gt;
 &lt;i class="icon fas fa-pencil-alt fa-fw" aria-hidden="true"&gt;&lt;/i&gt;MJGJD02YL vs MUGJD01YL&lt;i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"&gt;&lt;/i&gt;
 &lt;/div&gt;
 &lt;div class="details-content"&gt;
 &lt;div class="admonition-content"&gt;There are &lt;em&gt;at least two&lt;/em&gt; versions of this lamp. Thanks to &lt;code&gt;@htvekov&lt;/code&gt; for confirming that the &lt;code&gt;MUGJD01YL&lt;/code&gt; variant &lt;strong&gt;does &lt;em&gt;not&lt;/em&gt; contain an ESP32&lt;/strong&gt;. It contains a &lt;code&gt;TLSR8368&lt;/code&gt;.
Some photos of the &lt;code&gt;MUGJD01YL&lt;/code&gt; internals are provided &lt;a href="#mugjd01yl" rel=""&gt;below&lt;/a&gt;.&lt;/div&gt;
 &lt;/div&gt;
 &lt;/div&gt;
&lt;p&gt;If you&amp;rsquo;re here just for &amp;ldquo;how do I flash tasmota&amp;rdquo; bit, skip to the &lt;a href="#tasmota" rel=""&gt;Tasmota&lt;/a&gt; section below.&lt;/p&gt;
&lt;div class="details admonition tip open"&gt;
 &lt;div class="details-summary admonition-title"&gt;
 &lt;i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"&gt;&lt;/i&gt;Now with ESPHome&lt;i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"&gt;&lt;/i&gt;
 &lt;/div&gt;
 &lt;div class="details-content"&gt;
 &lt;div class="admonition-content"&gt;ESPHome support for the single-core ESP32 chip in the lamp has come a long way.
You can find the ESPHome configuration that I used with this lamp &lt;a href="#esphome" rel=""&gt;below&lt;/a&gt;.&lt;/div&gt;
 &lt;/div&gt;
 &lt;/div&gt;
&lt;hr&gt;
&lt;p&gt;I was looking for a way to light my desk my desk without screen glare.
The easiest way to prevent glare on a screen is to change the orientation of the light relative to the screen either from under or behind the screen.
This is not practical for ceiling mounted lights or for any floor lamps.&lt;/p&gt;</description></item><item><title>Adding an APC UPS to Home Assistant energy dashboard</title><link>https://karlquinsland.com/apc-ups-energy-in-homeassistant/</link><pubDate>Sun, 05 Sep 2021 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/apc-ups-energy-in-homeassistant/</guid><description>&lt;p&gt;&lt;strong&gt;EDIT:&lt;/strong&gt; (2021-09-19): After some &lt;a href="https://old.reddit.com/r/homeassistant/comments/pi3pv2/how_to_use_an_apc_ups_as_an_energy_dashboard/hbqudh5/" target="_blank" rel="noopener noreffer "&gt;back and forth&lt;/a&gt; with &lt;a href="https://old.reddit.com/user/Laxarus" target="_blank" rel="noopener noreffer "&gt;/u/Laxarus&lt;/a&gt;, there is now a simpler method! The &lt;code&gt;snmp&lt;/code&gt; platform still does not support setting &lt;code&gt;device_class&lt;/code&gt;, but wrapping the sensor in another template sensor is not required; just do so in your &lt;a href="https://www.home-assistant.io/docs/configuration/customizing-devices/" target="_blank" rel="noopener noreffer "&gt;&lt;code&gt;customize.yaml&lt;/code&gt;&lt;/a&gt;. I have called this out &lt;a href="#edit-2021-09-19" rel=""&gt;below&lt;/a&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;This is another quick &amp;ldquo;here&amp;rsquo;s how I did it, hope this help&amp;rdquo; post.&lt;/p&gt;
&lt;p&gt;In preparation for the inevitable grid brownouts that summer 2021 would bring, I installed a rather beefy UPS for my home network / lab. After some browsing, I discovered a local eWaste liquidator with a really good deal on some second-hand APC UPSs.&lt;/p&gt;</description></item><item><title>Fixing Home Assistant discovery with Tasmota on the Treatlife DS03</title><link>https://karlquinsland.com/treatlife-ds03-tasmota-autoconfig-with-homeassistant/</link><pubDate>Wed, 12 May 2021 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/treatlife-ds03-tasmota-autoconfig-with-homeassistant/</guid><description>&lt;div class="details admonition warning open"&gt;
 &lt;div class="details-summary admonition-title"&gt;
 &lt;i class="icon fas fa-exclamation-triangle fa-fw" aria-hidden="true"&gt;&lt;/i&gt;Update&lt;i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"&gt;&lt;/i&gt;
 &lt;/div&gt;
 &lt;div class="details-content"&gt;
 &lt;div class="admonition-content"&gt;This post is now deprecated. It has been superseded by &lt;a href="https://karlquinsland.com/treatlife-ds03-esphome/" rel=""&gt;&lt;code&gt;Using ESPHome with the Treatlife DS03&lt;/code&gt;&lt;/a&gt; from 2022-06.&lt;/div&gt;
 &lt;/div&gt;
 &lt;/div&gt;
&lt;p&gt;&lt;strong&gt;UPDATE:&lt;/strong&gt; (2021-10-22): Tasmota 9.5.0 has been superseded by the new &lt;a href="https://github.com/arendst/Tasmota/releases/tag/v10.0.0" target="_blank" rel="noopener noreffer "&gt;Tasmota 10.0.0 release&lt;/a&gt;. This release works perfectly with the rules/automation outlined below; you no longer need to avoid the problematic 9.5 release with the DS03. I am extremely grateful to every one of the people that contributes to the Tasmota project to keep it improving!&lt;/p&gt;</description></item><item><title>PoE powered Stack Light</title><link>https://karlquinsland.com/poe-stack-light/</link><pubDate>Sun, 28 Feb 2021 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/poe-stack-light/</guid><description>&lt;figure &gt;

 
 &lt;img src="https://karlquinsland.com/poe-stack-light/images/complete/02_all_on.webp" alt="Picture showing assembled light attached to enclosure from the front. All 5 lights are lit." /&gt;
 

 

 &lt;figcaption&gt;
 
 &lt;p&gt;
 The lights are much brighter than they appear in this picture; had to intentionally darken the image to prevent camera from blowing out the colors.
 
 
 
 &lt;/p&gt; 
 &lt;/figcaption&gt;
 
&lt;/figure&gt;


&lt;p&gt;&lt;a href="https://en.wikipedia.org/wiki/Stack_light" target="_blank" rel="noopener noreffer "&gt;Stack/signal lights&lt;/a&gt; are &lt;em&gt;everywhere&lt;/em&gt; in industrial applications for good reason: they&amp;rsquo;re a compact and relatively information-dense indicator system. They always seemed like the kind of indicator that only people with expensive machines needed. Until I found that they can be had for just under $6/light from Ali Express, that is.&lt;/p&gt;</description></item><item><title>Amcrest IP Cameras: security isn't a feature, it's a punchline</title><link>https://karlquinsland.com/amcrest-ip-cam-security-isnt-a-feature-its-a-punchine/</link><pubDate>Fri, 27 Nov 2020 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/amcrest-ip-cam-security-isnt-a-feature-its-a-punchine/</guid><description>&lt;!-- markdownlint-disable-file MD001--&gt;
&lt;p&gt;This is part rant, part &amp;ldquo;reference&amp;rdquo; for anybody else that&amp;rsquo;s struggling to get their Amcrest IP Camera to work with &lt;a href="https://www.home-assistant.io/integrations/onvif/" target="_blank" rel="noopener noreffer "&gt;Home Assistant&lt;/a&gt; via ONVIF. Skip to &lt;a href="#tldr" rel=""&gt;TL;DR&lt;/a&gt; for a working Home Assistant config.&lt;/p&gt;
&lt;p&gt;Briefly, &lt;a href="https://www.onvif.org/profiles/" target="_blank" rel="noopener noreffer "&gt;ONVIF&lt;/a&gt; is an industry group that maintains a set of standards to allow for interoperability between IP Cameras and related devices from multiple vendors. One set of protocols so your cameras from &lt;code&gt;$vendorA&lt;/code&gt; will work with with the recording/analytics software from &lt;code&gt;$vendorB&lt;/code&gt; which can then pipe events into software from &lt;code&gt;$vendorC&lt;/code&gt;.
How ONVIF works and how it&amp;rsquo;s implemented are beyond the scope of this rant, but, like most standards that haven&amp;rsquo;t aged well, &lt;a href="https://en.wikipedia.org/wiki/SOAP" target="_blank" rel="noopener noreffer "&gt;SOAP&lt;/a&gt; is involved. ðŸ¤®.&lt;/p&gt;</description></item><item><title>Two Tasmota rules</title><link>https://karlquinsland.com/two-tasmota-rules/</link><pubDate>Fri, 20 Nov 2020 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/two-tasmota-rules/</guid><description>&lt;!-- markdownlint-disable-file MD002 MD001--&gt;
&lt;p&gt;&lt;a href="https://tasmota.github.io/" target="_blank" rel="noopener noreffer "&gt;Tasmota&lt;/a&gt; is an incredibly powerful alternative/open source firmware for the ever popular Espressif family of WiFi equipped microcontrollers.
This does not need to be another post espousing it&amp;rsquo;s many awesome qualities, so just trust me on this; Tasmota is AWESOME.&lt;/p&gt;
&lt;p&gt;Tasmota supports user configurable &lt;a href="https://tasmota.github.io/docs/Rules/" target="_blank" rel="noopener noreffer "&gt;rules&lt;/a&gt; which are simple commands wired into various device triggers.
In short; a device running Tasmota gains some autonomy to react to events without needing to report the event to, and wait for commands from, a remote server.&lt;/p&gt;</description></item><item><title>Enhanced Home Assistant Switch Plate (HASP)</title><link>https://karlquinsland.com/enhanced-homeassistantswitchplate/</link><pubDate>Thu, 01 Oct 2020 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/enhanced-homeassistantswitchplate/</guid><description>&lt;p&gt;The &lt;a href="https://github.com/aderusha/HASwitchPlate/" target="_blank" rel="noopener noreffer "&gt;HASwitchPlate&lt;/a&gt; project by &lt;code&gt;aderusha&lt;/code&gt; is brilliant. He&amp;rsquo;s managed to arrange some relatively cheap commodity hardware into a package that conveniently fits into a prime location for interacting with Home Automation - the light switch. The entire package sips power off of the already present mains wiring and connects to any MQTT broker via the esp8266 chip. As the HASP was designed to be used with Home Assistant, the humble 2.4 inch LCD transforms into an accessible control surface for an incredibly powerful home automation platform!&lt;/p&gt;</description></item><item><title>Adding an airborne particulate mater sensor to WS3 Weather Station</title><link>https://karlquinsland.com/ws3-weather-station-pm25-sensor/</link><pubDate>Thu, 27 Aug 2020 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/ws3-weather-station-pm25-sensor/</guid><description>&lt;p&gt;A while back, I &lt;a href="https://github.com/kquinsland/ws3-to-esphome-bridge/" target="_blank" rel="noopener noreffer "&gt;posted a small bit of code&lt;/a&gt; that could decode the data from the ubiquitous WS3 Weather Station and make it accessible to the amazing &lt;a href="https://www.home-assistant.io/" target="_blank" rel="noopener noreffer "&gt;HomeAssistant&lt;/a&gt; via the wonderful &lt;a href="https://esphome.io/" target="_blank" rel="noopener noreffer "&gt;ESPHome&lt;/a&gt; project. Since then, my weather station has been dutifully collecting data that&amp;rsquo;s been invaluable for augmenting automation that deals with indoor climate.&lt;/p&gt;
&lt;p&gt;As the numerous wild fires in California rage on, &lt;a href="https://www.forbes.com/sites/ericmack/2020/08/21/wildfire-smoke-blankets-the-west-as-california-records-worlds-worst-air-quality/" target="_blank" rel="noopener noreffer "&gt;the air quality has gone from bad to dangerous&lt;/a&gt;. Knowing that outside was warmer, but less humid, was no longer enough to make a smart decision about weather or not to open the windows for some cost-effective cooling. I now need HomeAssistant to be aware of how clean the outside air was before making the decision to pipe in outdoor air.&lt;/p&gt;</description></item><item><title>RSS and Home Assistant: early warning for grid blackouts</title><link>https://karlquinsland.com/rss-and-homeassistant-for-early-blackout-warning/</link><pubDate>Sun, 16 Aug 2020 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/rss-and-homeassistant-for-early-blackout-warning/</guid><description>&lt;p&gt;California, like most of the West Coast, is currently in the middle of a prolonged and serious heat-wave. Record breaking temperatures results in a distribution grid stressed beyond it&amp;rsquo;s abilities which guarantees blackouts.&lt;/p&gt;
&lt;p&gt;The &lt;a href="https://en.wikipedia.org/wiki/California_Independent_System_Operator" target="_blank" rel="noopener noreffer "&gt;organization that oversees the electric grid&lt;/a&gt; in California publishes RSS feeds for various types of grid related news and events. All the CA ISO RSS feeds are published &lt;a href="http://www.caiso.com/Pages/GlobalRSS.aspx" target="_blank" rel="noopener noreffer "&gt;here&lt;/a&gt;, but the two feed that I&amp;rsquo;m using are:&lt;/p&gt;</description></item></channel></rss>