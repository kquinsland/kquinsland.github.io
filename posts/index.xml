<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on karl</title><link>https://karlquinsland.com/posts/</link><description>Recent content in Posts on karl</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Thu, 27 Aug 2020 00:00:00 +0000</lastBuildDate><atom:link href="https://karlquinsland.com/posts/index.xml" rel="self" type="application/rss+xml"/><item><title>Adding an airborne particulate mater sensor to WS3 Weather Station</title><link>https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/</link><pubDate>Thu, 27 Aug 2020 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/</guid><description>&lt;p>A while back, I &lt;a href="https://github.com/kquinsland/ws3-to-esphome-bridge/">posted a small bit of code&lt;/a> that could decode the data from the ubiquitous WS3 Weather Station and make it accessible to the amazing &lt;a href="https://www.home-assistant.io/">HomeAssistant&lt;/a> via the wonderful &lt;a href="https://esphome.io/">ESPHome&lt;/a> project. Since then, my weather station has been dutifully collecting data that&amp;rsquo;s been invaluable for augmenting automation that deals with indoor climate.&lt;/p>
&lt;p>As the numerous wild fires in California rage on, &lt;a href="https://www.forbes.com/sites/ericmack/2020/08/21/wildfire-smoke-blankets-the-west-as-california-records-worlds-worst-air-quality/">the air quality has gone from bad to dangerous&lt;/a>. Knowing that outside was warmer, but less humid, was no longer enough to make a smart decision about weather or not to open the windows for some cost-effective cooling. I now need HomeAssistant to be aware of how clean the outside air was before making the decision to pipe in outdoor air.&lt;/p>
&lt;p>This post covers two things:&lt;/p>
&lt;ul>
&lt;li>A small update to the existing WS3 -&amp;gt; ESPHome -&amp;gt; HomeAssistant bridge code to take advantage of the WS3s&amp;rsquo; support for the ubiquitous &lt;code>PMS5003T&lt;/code> sensor.&lt;/li>
&lt;li>A simple 3d-printable enclosure for deploying the particulate matter sensor outdoors&lt;/li>
&lt;/ul>
&lt;p>When deployed, it looks like this:&lt;/p>
&lt;figure >
&lt;img src="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/04.installed.jpg" alt="Picture showing designed parts assembled and deployed as intended" />
&lt;figcaption>
&lt;p>
Excuse the awkward camera angle; sensor is deployed in an awkward to photograph location.
&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;p>Please ignore the awkward camera angle as the sensor is deployed in a location where there&amp;rsquo;s not quite enough room for proper camera placement.&lt;/p>
&lt;p>And results in graphs that look like this:&lt;/p>
&lt;figure >
&lt;img src="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/example_dashboard.jpg" alt="Picture showing a simple WS3 dashboard in Grafana" />
&lt;figcaption>
&lt;p>
Smoke particles are between .4μm to .7μm in size... which explains the elevated red line relative to other particle sizes.
&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;p>A simplified copy of this post appears on &lt;a href="https://www.thingiverse.com/thing:4581351">thingiverse&lt;/a> and &lt;a href="https://www.prusaprinters.org/prints/39560-outdoor-enclosure-for-pms5003-particulate-matter-s">prusaprinters&lt;/a>.&lt;/p>
&lt;h2 id="the-enclosure">The enclosure&lt;/h2>
&lt;p>As of writing, there&amp;rsquo;s &lt;a href="https://www.thingiverse.com/thing:4044492">one existing enclosure&lt;/a> for the sensor on thingiverse. Unfortunately, the enclosure does not appear to have any design features for mounting to a pole nor does it have any bug-proofing design elements. I took this opportunity to design my own that could be easily mounted, features a slanted &amp;lsquo;roof&amp;rsquo; to prevent standing moisture ingress and could use standard size tobacco pipe filters to keep all but the tiniest of insects/particles out.&lt;/p>
&lt;p>The sensor uses a small fan to draw ambient air past an infrared laser. As airborne particles cross the laser beam, they reflect a certain amount of light which can be correlated with the size of the particle. This data can then be turned into fairly accurate counts of how many particles of a given size are in the sampled air. The enclosure is a basic box with two circular air channels pointed downwards to prevent moisture ingress. The intake and exhaust ports are at staggered heights and pointed in opposite directions and to minimize the chance of recirculating the same air.&lt;/p>
&lt;p>The lower port is the intake which connects to a few small holes on the front of the sensor and the exhaust port is the raised port which connects directly to the exhaust fan. If you could remove the first few mm from the front, it would look something like this:&lt;/p>
&lt;figure >
&lt;img src="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/f360_air_channels.jpg" alt="Screenshot showing labeled ingress/egress for air flow" />
&lt;figcaption>
&lt;/figcaption>
&lt;/figure>
&lt;p>From the side, you can see the two air channels and the few mm of room in the back for wiring. The sensor sits on a &amp;lsquo;pedestal&amp;rsquo; to keep it elevated away from any moisture that may collect on the bottom of the enclosure.&lt;/p>
&lt;p>The base plate/pedestal are secured to the &amp;lsquo;body&amp;rsquo; with two M3 screws. I used &lt;code>10mm&lt;/code> as that&amp;rsquo;s what I had on hand, but screws between 6-12mm should work as well. The holes are sized for a M3, but any similar sized screw will work. Use a lighter or similar to heat the screw as you drive it into the plastic to create your own threads if using a larger/longer screw.&lt;/p>
&lt;p>Besides the &amp;lsquo;pedestal&amp;rsquo; there are a few contact surfaces that hold on to the sensor with a friction fit. The &amp;lsquo;ceiling&amp;rsquo; is a few mm thick and shouldn&amp;rsquo;t permit much moisture ingress but an optional slanted roof component can be printed as an extra precaution.&lt;/p>
&lt;figure >
&lt;img src="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/f360_side_profile.jpg" alt="Screenshot showing side profile of assembly and the two ports" />
&lt;figcaption>
&lt;p>
Upper and lower chambers for exhaust and intake.
&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;p>While designing the enclosure, I used this &lt;a href="https://grabcad.com/library/pms5003-2">&lt;code>PMS5003&lt;/code> model&lt;/a> from Leclercq Gregory. 🙏&lt;/p>
&lt;h3 id="printing">Printing&lt;/h3>
&lt;p>This is a functional part with only three small surfaces that require reasonably tight precision to properly hold onto the sensor. The &lt;code>SPEED&lt;/code> setting with a &lt;code>.2mm&lt;/code> layer height and a reasonable 20% infill gave me part that works and feels water tight. The walls and ceiling need to keep water out so dipping below 15% infill or otherwise using settings that wont give solid layer adhesion is not advised. I printed using ABS for durability, but PLA will probably work if you can deploy into a shaded environment.&lt;/p>
&lt;p>The shroud and the base are not optional, the triangle shaped block is intended to turn the flat roof of the shroud into a slanted roof so water can&amp;rsquo;t collect. It is optional but shown below.&lt;/p>
&lt;figure >
&lt;img src="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/suggested_print_orientation.jpg" alt="Screenshot showing suggested print bed arrangement" />
&lt;figcaption>
&lt;p>
No raft/support when printed in this orientation.
&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;h2 id="assemble">Assemble&lt;/h2>
&lt;p>Briefly:&lt;/p>
&lt;ul>
&lt;li>collect materials&lt;/li>
&lt;li>press-fit the PM2.5 sensor into the enclosure&lt;/li>
&lt;li>make a wire that can interface the PM2.5 sensor to the WS3 board via RJ11&lt;/li>
&lt;li>seal everything up&lt;/li>
&lt;li>glue on mesh screens and angled roof&lt;/li>
&lt;li>plug into WS3&lt;/li>
&lt;li>flash ESPHome onto&lt;/li>
&lt;/ul>
&lt;h3 id="bill-of-materials">Bill of Materials&lt;/h3>
&lt;p>More or less everything that is needed for assembly is pictured below.&lt;/p>
&lt;figure >
&lt;img src="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/01.collect.jpg" alt="Picture showing tools/materials required for assembly" />
&lt;figcaption>
&lt;p>
More or less everything needed to assemble.
&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;p>Components:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;a href="https://www.aliexpress.com/item/32921725022.html">WS3 Weather Station&lt;/a> - Essential / Foundational&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="https://rover.ebay.com/rover/1/711-53200-19255-0/1?mpre=https%3A%2F%2Fwww.ebay.com%2Fitm%2FDigital-Universal-Particle-Concentration-Laser-Sensor-PMS5003-PM1-0-PM2-5-PM10%2F254616699639&amp;amp;campid=5338734064&amp;amp;toolid=10001&amp;amp;customid=">ST5003T PM2.5 Sensor&lt;/a> - Essential / Foundational&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="https://rover.ebay.com/rover/1/711-53200-19255-0/1?mpre=https%3A%2F%2Fwww.ebay.com%2Fitm%2FTTGO-Wemos-MINI-D1-ESP32-WiFi-Bluetooth-Wemos-D1-Mini-ESP8266-ESP-32-Module%2F183413480551&amp;amp;campid=5338734064&amp;amp;toolid=10001&amp;amp;customid=">ESP32 Device&lt;/a> - A link to the ESP32 based device that I use but any ESP platform with a spare GPIO that can be used as a UART will work.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="https://rover.ebay.com/rover/1/711-53200-19255-0/1?mpre=https%3A%2F%2Fwww.ebay.com%2Fitm%2F25-Stainless-Steel-Smoking-Pipe-Screens-3-4-19mm-Tobacco-HOOKAH-FILTER-Heavy%2F183969079809&amp;amp;campid=5338734064&amp;amp;toolid=10001&amp;amp;customid=">3/4 inch tobacco pipe screens&lt;/a> - For bug/critter proofing the enclosure. Strongly suggested for outdoor deployments.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="https://www.mcmaster.com/91292A113/">2x M3 x 10mm screws&lt;/a> - Optional. The base can be glued to the shroud or any similar screw will work&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Note&lt;/strong>: Where possible, I&amp;rsquo;ve used referral links. The links don&amp;rsquo;t raise the price of any item, they simply let the retailer know that I sent you and, in return, I get a small cut of your purchase. If you&amp;rsquo;re not comfortable with that, you can use a URL unwinding service to get the &amp;lsquo;raw&amp;rsquo; product link and drop the attribution/commission part.&lt;/p>
&lt;p>General bits:&lt;/p>
&lt;ul>
&lt;li>Superglue&lt;/li>
&lt;li>Waterproofing caulk/sealant&lt;/li>
&lt;li>Drill/Screwdriver&lt;/li>
&lt;li>Driver bit for the screws&lt;/li>
&lt;/ul>
&lt;p>The stepped drill bit in the above picture is not a requirement if you assemble things in the correct oder. The cable egress hole is sized for a &amp;lsquo;typical&amp;rsquo; 3 pair &lt;a href="https://en.wikipedia.org/wiki/Registered_jack#RJ11,_RJ14,_RJ25_wiring">RJ11 cable&lt;/a> plus a tiny bit of wiggle room. I needed a working cable to test the code while the parts were printing so the hole in the printed base needed to be enlarged slightly to fit the head of the cable.&lt;/p>
&lt;h3 id="wiring">Wiring&lt;/h3>
&lt;p>There&amp;rsquo;s no ready-made cable out there that&amp;rsquo;ll join the two devices so one must be made. Fortunately, there&amp;rsquo;s only 6 wires to deal with&amp;hellip; 4 of them are distinct.&lt;/p>
&lt;p>Sacrifice the cable that comes with the PM2.5 sensor and the RJ11 cable by cutting them in half and solder the correct wires together. The &lt;em>color&lt;/em> of the wires that come in both the RJ11 cable and the PM2.5 cable are likely going to differ from the ones I used so I&amp;rsquo;ve left those details out and provided a table showing which pins are to be joined together:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Pin #&lt;/th>
&lt;th>PM2.5 Sensor Pin&lt;/th>
&lt;th>WS3 Pin&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1&lt;/td>
&lt;td>VCC&lt;/td>
&lt;td>5V&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2&lt;/td>
&lt;td>GND&lt;/td>
&lt;td>GND&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3&lt;/td>
&lt;td>SET&lt;/td>
&lt;td>ENABLE&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4&lt;/td>
&lt;td>RX&lt;/td>
&lt;td>RX&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>5&lt;/td>
&lt;td>TX&lt;/td>
&lt;td>GND&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>6&lt;/td>
&lt;td>RESET&lt;/td>
&lt;td>5V&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>7&lt;/td>
&lt;td>NC&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>8&lt;/td>
&lt;td>NC&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>For reference, Pin 1 on both the WS3 and PM2.5 Sensor:&lt;/p>
&lt;figure >
&lt;img src="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/pin_out/WS3_Pins.jpg" alt="Screenshot showing the RJ11 jack on WS3 board w/ pin numbers" />
&lt;figcaption>
&lt;/figcaption>
&lt;/figure>
&lt;figure >
&lt;img src="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/pin_out/PM2.5_Pins.jpg" alt="Screenshot showing labeled pins on the 8 pin jack on the back of the PM2.5 sensor" />
&lt;figcaption>
&lt;/figcaption>
&lt;/figure>
&lt;p>With the wiring done, the sensor just needs to be stuffed into the enclosure. Don&amp;rsquo;t forget to thread the RJ11 cable through the hole in the base plate &lt;em>BEFORE&lt;/em> soldering it to the cable for the PM2.5 sensor&amp;hellip; otherwise you&amp;rsquo;ll need that stepped drill bit! 🙃&lt;/p>
&lt;figure >
&lt;img src="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/02.assemble.jpg" alt="Picture showing sensor inserted into printed shroud" />
&lt;figcaption>
&lt;p>
Sensor has been press-fit into the enclosure and wire fed through the base plate.
&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;p>To finish, secure the base with screws and a bit of water-proofing caulk for good measure:&lt;/p>
&lt;figure >
&lt;img src="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/03.glue.jpg" alt="Picture showing assembled components while glue/caulk curing" />
&lt;figcaption>
&lt;p>
I suggest waiting until the end to glue on the optional roof and waiting until just before that to glue on the optional mesh screens.
&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;h2 id="the-code">The code&lt;/h2>
&lt;p>Setting up and using ESPHome is outside the scope of this post but there are several &lt;a href="https://esphome.io/guides/getting_started_hassio.html">good guides&lt;/a> out there. Once you have that set up, &lt;a href="https://esphome.io/custom/custom_component.html">include&lt;/a> the &lt;code>ws3.h&lt;/code> file and set up your custom sensor as shown below. A working example and more detail is over on the
&lt;a href="%5Bhttps://github.com/kquinsland/ws3-to-esphome-bridge/%5D(https://github.com/kquinsland/ws3-to-esphome-bridge/)">github repo&lt;/a>.&lt;/p>
&lt;p>It&amp;rsquo;ll look like this:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="font-weight:bold">uart&lt;/span>:
&lt;span style="font-weight:bold">id&lt;/span>: uart_bus
&lt;span style="font-style:italic"># At this time, ESP does not Transmit anything to the WS3&lt;/span>
&lt;span style="font-weight:bold">tx_pin&lt;/span>: GPIO16
&lt;span style="font-weight:bold">rx_pin&lt;/span>: GPIO17
&lt;span style="font-weight:bold">baud_rate&lt;/span>: 2400
&lt;span style="font-weight:bold">sensor&lt;/span>:
- &lt;span style="font-weight:bold">platform&lt;/span>: custom
&lt;span style="font-weight:bold">lambda&lt;/span>: |&lt;span style="font-style:italic">-
&lt;/span>&lt;span style="font-style:italic"> auto ws3 = new WS3(id(uart_bus));&lt;/span>
App.register_component(ws3);
return {
ws3-&amp;gt;temperature_sensor,
ws3-&amp;gt;pressure_sensor,
ws3-&amp;gt;humidity_sensor,
ws3-&amp;gt;wind_speed_current_sensor,
ws3-&amp;gt;wind_speed_peak_5m_sensor,
ws3-&amp;gt;wind_direction_sensor,
ws3-&amp;gt;rain_fall_1h_sensor,
ws3-&amp;gt;rain_fall_24h_sensor,
ws3-&amp;gt;particles_03um,
ws3-&amp;gt;particles_05um,
ws3-&amp;gt;particles_10um,
ws3-&amp;gt;particles_25um,
ws3-&amp;gt;particles_50um,
ws3-&amp;gt;particles_100um,
};
&lt;/code>&lt;/pre>&lt;/div>&lt;p>With that, check the logs from your instance of ESPHome and you should see something like this:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-fallback" data-lang="fallback">[D][ws3:157]: pkt_read_ok!
[D][WS3:410]: VALID! Packet: [c000s000g000t093r000p000h35b09880,050,080,088,502,056,065,*18
], Checksum: [18] chksum: [18]
[E][WS3:342]: Validating: [c000s000g000t093r000p000h35b09880,050,080,088,502,056,065]
&lt;/code>&lt;/pre>&lt;/div>&lt;p>indicating that the WS3 has detected the PM2.5 sensor and is reporting it&amp;rsquo;s readings in addition to the temperature/wind data. Then just check your HomeAssistant install for the data.&lt;/p>
&lt;h2 id="files">Files&lt;/h2>
&lt;p>For archive / posterity, all source files are included here. All files are licensed as &lt;a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike&lt;/a> (CC BY-NC-SA).&lt;/p>
&lt;ul>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/02.assemble.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/02.assemble_hu581ed75240ad3bd415fa4d000e729c07_1277716_300x0_resize_q75_box.jpg" width="300" height="414">
&lt;/a>
&lt;figcaption>
&lt;small>Sensor has been press-fit into the enclosure and wire fed through the base plate.&lt;/small>
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/03.glue.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/03.glue_hu4b434a2d0bde22f360c0e8fbf7a649e9_1464402_300x0_resize_q75_box.jpg" width="300" height="398">
&lt;/a>
&lt;figcaption>
&lt;small>I suggest waiting until the end to glue on the optional roof and waiting until just before that to glue on the optional mesh screens.&lt;/small>
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/example_dashboard.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/example_dashboard_hud37127b2a8725f9b696f09347ad21464_272815_300x0_resize_q75_box.jpg" width="300" height="163">
&lt;/a>
&lt;figcaption>
&lt;small>Smoke particles are between .4μm to .7μm in size... which explains the elevated red line relative to other particle sizes.&lt;/small>
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/.gitignore">
&lt;i class="far fa-file-">&lt;/i>
images/.gitignore:
&lt;/a>
&lt;/li>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/04.installed.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/04.installed_hu2a1504819b520ffab23f58c73dabe877_1392166_300x0_resize_q75_box.jpg" width="300" height="309">
&lt;/a>
&lt;figcaption>
&lt;small>Excuse the awkward camera angle; sensor is deployed in an awkward to photograph location.&lt;/small>
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/models/BASE.step">
&lt;i class="far fa-file-code">&lt;/i>
models/BASE.step:
&lt;small style="font-family:'Lucida Console', monospace">step&lt;/small> &lt;small>file&lt;/small>
&lt;/a>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/models/BODY.step">
&lt;i class="far fa-file-code">&lt;/i>
models/BODY.step:
&lt;small style="font-family:'Lucida Console', monospace">step&lt;/small> &lt;small>file&lt;/small>
&lt;/a>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/models/LID.step">
&lt;i class="far fa-file-code">&lt;/i>
models/LID.step:
&lt;small style="font-family:'Lucida Console', monospace">step&lt;/small> &lt;small>file&lt;/small>
&lt;/a>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/models/base.stl">
&lt;i class="far fa-file-code">&lt;/i>
models/base.stl:
&lt;small style="font-family:'Lucida Console', monospace">stl&lt;/small> &lt;small>file&lt;/small>
&lt;/a>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/models/body.stl">
&lt;i class="far fa-file-code">&lt;/i>
models/body.stl:
&lt;small style="font-family:'Lucida Console', monospace">stl&lt;/small> &lt;small>file&lt;/small>
&lt;/a>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/models/combined.3mf">
&lt;i class="far fa-file-archive">&lt;/i>
models/combined.3mf:
&lt;small style="font-family:'Lucida Console', monospace">3mf&lt;/small> &lt;small>file&lt;/small>
&lt;/a>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/models/lid.stl">
&lt;i class="far fa-file-code">&lt;/i>
models/lid.stl:
&lt;small style="font-family:'Lucida Console', monospace">stl&lt;/small> &lt;small>file&lt;/small>
&lt;/a>
&lt;/li>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/pin_out/PM2.5_Pins.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/pin_out/PM2.5_Pins_hu73d3c3e0df5406e1f5d0c0aa79c239b4_47767_300x0_resize_q75_box.jpg" width="300" height="152">
&lt;/a>
&lt;/figure>
&lt;/li>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/pin_out/WS3_Pins.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/pin_out/WS3_Pins_hu320425c47decf2d27d21e4a5ee712e53_888503_300x0_resize_q75_box.jpg" width="300" height="214">
&lt;/a>
&lt;/figure>
&lt;/li>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/01.collect.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/01.collect_hu256fbbed5931a8fb15e03274d1dfa3ce_1070239_300x0_resize_q75_box.jpg" width="300" height="338">
&lt;/a>
&lt;figcaption>
&lt;small>More or less everything needed to assemble.&lt;/small>
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/suggested_print_orientation.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/suggested_print_orientation_hubc29781a1e48d16ebf7b06eb48685880_519298_300x0_resize_q75_box.jpg" width="300" height="175">
&lt;/a>
&lt;figcaption>
&lt;small>No raft/support when printed in this orientation.&lt;/small>
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/f360_air_channels.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/f360_air_channels_hu16ba34b32cdb392111aa122e323e4ab7_84744_300x0_resize_q75_box.jpg" width="300" height="436">
&lt;/a>
&lt;/figure>
&lt;/li>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/f360_side_profile.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/08/adding-an-airborne-particulate-mater-sensor-to-ws3-weather-station/images/f360_side_profile_hu6d0a16d67440fb635793f95d3fd27d1d_152867_300x0_resize_q75_box.jpg" width="300" height="324">
&lt;/a>
&lt;figcaption>
&lt;small>Upper and lower chambers for exhaust and intake.&lt;/small>
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;/ul></description></item><item><title>RSS and Home Assistant: early warning for grid blackouts</title><link>https://karlquinsland.com/2020/08/rss-and-home-assistant-early-warning-for-grid-blackouts/</link><pubDate>Sun, 16 Aug 2020 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/2020/08/rss-and-home-assistant-early-warning-for-grid-blackouts/</guid><description>&lt;p>California, like most of the West Coast, is currently in the middle of a prolonged and serious heat-wave. Record breaking temperatures results in a distribution grid stressed beyond it&amp;rsquo;s abilities which guarantees blackouts.&lt;/p>
&lt;p>The &lt;a href="https://en.wikipedia.org/wiki/California_Independent_System_Operator">organization that oversees the electric grid&lt;/a> in California publishes RSS feeds for various types of grid related news and events. All the CA ISO RSS feeds are published &lt;a href="http://www.caiso.com/Pages/GlobalRSS.aspx">here&lt;/a>, but the two feed that I&amp;rsquo;m using are:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://content.caiso.com/awe/noticeRSS.xml">http://content.caiso.com/awe/noticeRSS.xml&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://content.caiso.com/awe/noticeflexRSS.xml">http://content.caiso.com/awe/noticeflexRSS.xml&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>As energy demand ramps up, &lt;code>flex&lt;/code> alerts are issued as a call to reduce energy consumption. If demand continues to rise &lt;code>warnings&lt;/code> and, finally, &lt;code>stage3&lt;/code> events are issued. A &lt;code>warning&lt;/code> does not guarantee a &lt;code>stage3&lt;/code> event, but a &lt;code>stage3&lt;/code> event mans that blackouts are all but inevitable in the coming hours. The &lt;em>exact&lt;/em> meaning of each alert type is outlined in &lt;a href="https://www.caiso.com/Documents/SystemAlertsWarningsandEmergenciesFactSheet.pdf">this PDF&lt;/a>.&lt;/p>
&lt;p>The &lt;code>noticeRSS.xml&lt;/code> feed, has &lt;em>early&lt;/em> warning notifications that look like this:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-xml" data-lang="xml">&lt;span style="font-weight:bold">&amp;lt;item&amp;gt;&lt;/span>
\n
&lt;span style="font-weight:bold">&amp;lt;title&amp;gt;&lt;/span>NOTICE 202002440: CAISO Grid Warning Issued &lt;span style="font-weight:bold">&amp;lt;/title&amp;gt;&lt;/span>
\n
&lt;span style="font-weight:bold">&amp;lt;link&amp;gt;&lt;/span>http://www.caiso.com/awe/noticelog.html#202002440&lt;span style="font-weight:bold">&amp;lt;/link&amp;gt;&lt;/span>
\n
&lt;span style="font-weight:bold">&amp;lt;description&amp;gt;&lt;/span>Effective: 16-Aug-2020 12:00 PM Terminates: 16-Aug-2020 11:59 PM&lt;span style="font-weight:bold">&amp;lt;/description&amp;gt;&lt;/span>
\n
&lt;span style="font-weight:bold">&amp;lt;/item&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Note: there&amp;rsquo;s nothing wrong w/ your browser, the &lt;code>\n&lt;/code> characters &lt;em>are&lt;/em> in the actual feed. No matter, the &lt;a href="https://github.com/home-assistant/core/tree/dev/homeassistant/components/feedreader">RSS parser&lt;/a> in Home Assistant &lt;em>can&lt;/em> tolerate them.&lt;/p>
&lt;p>I use the alerts/warnings to do a few simple tasks, but there&amp;rsquo;s so much potential beyond the automation I currently have:&lt;/p>
&lt;ul>
&lt;li>bumps thermostats up by a few degrees to lighten demand*&lt;/li>
&lt;li>re-schedule a few routine activities that are usually done in the evening to as soon as possible (cooking, for example)&lt;/li>
&lt;li>notify me to immediately go check that the generator has fuel&lt;/li>
&lt;/ul>
&lt;ul>
&lt;li>Currently in &amp;lsquo;unarmed&amp;rsquo; mode as I tweak the logic driving the decision&lt;/li>
&lt;/ul>
&lt;h2 id="how-to-do-it">How to do it&lt;/h2>
&lt;p>Basically, add the two feeds above to the &lt;a href="https://www.home-assistant.io/integrations/feedreader/">feedreader&lt;/a> integration and use the &lt;code>feedreader&lt;/code> type of &lt;a href="https://www.home-assistant.io/docs/automation/trigger/#event-trigger">event&lt;/a> to trigger your automation.&lt;/p>
&lt;p>Somewhere in &lt;code>configuration.yaml&lt;/code>, load the &lt;code>feedreader&lt;/code> component.&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="font-weight:bold">feedreader&lt;/span>: !include feedreader/rss.yaml
&lt;/code>&lt;/pre>&lt;/div>&lt;p>and in the &lt;code>feedreader/rss.yaml&lt;/code> file, add the URLs:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="font-weight:bold">urls&lt;/span>:
- http://content.caiso.com/awe/noticeRSS.xml
- http://content.caiso.com/awe/noticeflexRSS.xml
&lt;span style="font-style:italic"># Pull down the feed 2x/ hour&lt;/span>
&lt;span style="font-weight:bold">scan_interval&lt;/span>:
&lt;span style="font-weight:bold">minutes&lt;/span>: 30
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Unfortunately, Home Assistant does not support setting the &lt;code>scan_interval&lt;/code> per feed, so you&amp;rsquo;ll have to figure out a happy middle ground if you&amp;rsquo;ve already got a few RSS feeds you monitor. Likewise, don&amp;rsquo;t pull the feed down excessively&amp;hellip; I don&amp;rsquo;t see a lot of evidence that the feed is cached well and the CA ISO does occasionally have to put banners on the top of their site saying that the site is under heavy load. Don&amp;rsquo;t be the reason the site goes down because &lt;em>you&lt;/em> wanted &lt;strong>instant&lt;/strong> notification.&lt;/p>
&lt;p>If you&amp;rsquo;re not in a position to do any sophisticated automation based on the notification, it&amp;rsquo;s still simple to fire off a notification to &lt;em>manually&lt;/em> prepare:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="font-style:italic">##&lt;/span>
- &lt;span style="font-weight:bold">alias&lt;/span>: Notify when new Flex or Warning issued
&lt;span style="font-weight:bold">trigger&lt;/span>:
&lt;span style="font-weight:bold">platform&lt;/span>: event
&lt;span style="font-weight:bold">event_type&lt;/span>: feedreader
&lt;span style="font-weight:bold">action&lt;/span>:
&lt;span style="font-weight:bold">service&lt;/span>: persistent_notification.create
&lt;span style="font-weight:bold">data_template&lt;/span>:
&lt;span style="font-weight:bold">notification_id&lt;/span>: &lt;span style="font-style:italic">&amp;#34;{{ trigger.event.data.title }}&amp;#34;&lt;/span>
&lt;span style="font-weight:bold">title&lt;/span>: &lt;span style="font-style:italic">&amp;#34;FlexAlert&amp;#34;&lt;/span>
&lt;span style="font-weight:bold">message&lt;/span>: &lt;span style="font-style:italic">&amp;gt;
&lt;/span>&lt;span style="font-style:italic"> {% set tokens = trigger.event.data.description.split(&amp;#39; &amp;#39;) %}&lt;/span>
{% set start_str = &lt;span style="font-style:italic">&amp;#34;{} {} {}&amp;#34;&lt;/span>.format(tokens[1], tokens[2], tokens[3]) %}
{% set start = strptime(start_str, &lt;span style="font-style:italic">&amp;#39;%d-%b-%Y %I:%M %p&amp;#39;&lt;/span>) %}
{% set end_str = &lt;span style="font-style:italic">&amp;#34;{} {} {}&amp;#34;&lt;/span>.format(tokens[5], tokens[6], tokens[7]) %}
{% set end = strptime(end_str, &lt;span style="font-style:italic">&amp;#39;%d-%b-%Y %I:%M %p&amp;#39;&lt;/span>) %}
&lt;span style="font-style:italic">&amp;#34;Heads up, electricity demand is likely to exceed production from {{ start.isoformat() }} to {{ end.isoformat() }}&amp;#34;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Which should create a simple notification that&amp;rsquo;ll look something like this:&lt;/p>
&lt;figure >
&lt;img src="https://karlquinsland.com/2020/08/rss-and-home-assistant-early-warning-for-grid-blackouts/images/notification.jpg" alt="Ignore the sample text from my testing" />
&lt;figcaption>
&lt;p>
Ignore the sample text from my testing
&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;p>The &lt;code>strptime&lt;/code> function yields &lt;code>start&lt;/code> and &lt;code>end&lt;/code> objects that can be manipulated further:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-fallback" data-lang="fallback">{% set now = now() %}
{% if start.day &amp;gt; now.day -%}
It looks like demand will be high *tomorrow*
{%- endif %}
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Happy automating.&lt;/p></description></item><item><title>Announcing The Missing ToDoist Tools</title><link>https://karlquinsland.com/2020/07/announcing-the-missing-todoist-tools/</link><pubDate>Sun, 26 Jul 2020 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/2020/07/announcing-the-missing-todoist-tools/</guid><description>&lt;h1 id="tmtdt-the-missing-todoist-tools-">TMTDT: The Missing ToDoist Tools 🎉&lt;/h1>
&lt;p>As the name implies, TMTDT started as a small collection of scripts that I used to augment ToDoist with features they can&amp;rsquo;t/won&amp;rsquo;t implement. It&amp;rsquo;s grown quite a bit since then.&lt;/p>
&lt;figure >
&lt;img src="https://karlquinsland.com/2020/07/announcing-the-missing-todoist-tools/images/demo.gif" alt="I don&amp;#39;t know how to make flashy demo gifs." />
&lt;figcaption>
&lt;p>
I don&amp;#39;t know how to make flashy demo gifs.
&lt;a href="#demo">
See the file driving the demo
&lt;/a>
&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;p>Those scripts started as simple idea and quickly morphed into a creaky, but essential, tool. As more features were added it continued too morph into an unmaintainable mess. Untangling that mess was on my todo list but never a high priority partly because of issues TMTDT was designed to solve 🤦.&lt;/p>
&lt;p>I lost my day job right as the spring of 2020 &lt;a href="https://en.wikipedia.org/wiki/Stay-at-home_order#COVID-19_pandemic">shelter in place&lt;/a> order was put in place. TMTDT is certainly not how I &lt;em>thought&lt;/em> early summer was going to be spent, but a useful way nonetheless.&lt;/p>
&lt;p>One significant chunk of my newly-freed time and a lengthy re-write later, I had something that looked promising. After a &lt;em>lot&lt;/em> more work and some tinkering, I&amp;rsquo;ve got something that feels like far more than a hacky tool for personal use.&lt;/p>
&lt;h2 id="why">Why&lt;/h2>
&lt;p>Why not?&lt;/p>
&lt;p>I had several scripts that I would run on a regular basis to do things like:&lt;/p>
&lt;ul>
&lt;li>set up projects with multiple different types of templates based on things like the date&lt;/li>
&lt;li>fix typos i routinely made while &lt;a href="https://get.todoist.help/hc/en-us/articles/115001745265-Task-Quick-Add">quick adding&lt;/a> tasks.&lt;/li>
&lt;li>re-schedule certain daily tasks if they had been missed&lt;/li>
&lt;/ul>
&lt;p>No joke, I&amp;rsquo;d spend a &lt;em>lot&lt;/em> of time fixing typos, expanding ideas for a project into proper sub-tasks and sections and other routine administrative work:&lt;/p>
&lt;figure >
&lt;img src="https://karlquinsland.com/2020/07/announcing-the-missing-todoist-tools/images/time-report.jpg" alt="Representative of time spent during a typical week" />
&lt;figcaption>
&lt;p>
Representative of time spent during a typical week
&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;p>In that specific week, I kept track of how 37 hours were spent. Of those 37, about 4 were spent on general Inbox review / process. At least 3 of those 4 were spent &lt;em>directly&lt;/em> on task triage. 3/37 is about 8%. With no full time day job - &lt;a href="https://karlquinsland.com/contact/">hire me&lt;/a> - that&amp;rsquo;s a fairly representative breakdown for a given week; some time planning the things, lots of time doing the things.&lt;/p>
&lt;p>What would you do with 8% of your time back each week?&lt;/p>
&lt;p>I&amp;rsquo;m kidding.&lt;/p>
&lt;p>We all know that I&amp;rsquo;m not getting any free time back from this.&lt;/p>
&lt;figure >
&lt;img src="https://karlquinsland.com/2020/07/announcing-the-missing-todoist-tools/images/xkcd-1319.png" />
&lt;figcaption>
&lt;p>
&lt;a href="https://xkcd.com/1319/">
Credit: XKCD #1319
&lt;/a>
&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;p>I&amp;rsquo;ve written this software to suit my needs, but the decision to make it a bit more robust and featured before release is because I&amp;rsquo;ve noticed a few &amp;lsquo;new&amp;rsquo; tools to better augment ToDoist:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/Hoffelhas/autodoist">autodoist&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://chrome.google.com/webstore/detail/todoist-shortcuts-gmail-v/dehmghpdcahlffompjagejmgbcfahndp">shortcuts&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/6uhrmittag/taskbutler">taskbutler&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://planner-todo.web.app/">planner&lt;/a>. This is more of a UI, but it&amp;rsquo;s a &lt;strong>very&lt;/strong> pretty app.&lt;/li>
&lt;/ul>
&lt;p>And I&amp;rsquo;m genuinely curious about how other people will user it. I am always appreciative when somebody finds a smart way to save some time and shares their trick. I&amp;rsquo;m hoping somebody figures out how to use this tool in a way that I can learn from.&lt;/p>
&lt;p>An announcement post for TMTDT is now on &lt;a href="https://old.reddit.com/r/todoist/comments/hyfl3o/introducing_the_missing_todoist_tools_a/">/r/todoist&lt;/a>.&lt;/p>
&lt;h2 id="how">How&lt;/h2>
&lt;p>The code and some documentation can be found on &lt;a href="https://github.com/kquinsland/the-missing-todoist-tools">GitHub&lt;/a>.&lt;/p>
&lt;p>The demo gif at the top of this post illustrates a simple example, but more through (read: contrived) examples are included in the &lt;a href="https://github.com/kquinsland/the-missing-todoist-tools/tree/master/jobs/v1">jobs&lt;/a> directory.&lt;/p>
&lt;p>The short version:&lt;/p>
&lt;blockquote>
&lt;p>Scriptable tools for building jobs to manage a TooDoist account&lt;/p>
&lt;/blockquote>
&lt;p>Slightly longer version:&lt;/p>
&lt;blockquote>
&lt;p>Architecture inspired by Elastic Search&amp;rsquo;s &lt;a href="https://github.com/elastic/curator/tree/master/curator">Curator&lt;/a>. Functionality built for ToDoist.&lt;/p>
&lt;/blockquote>
&lt;h3 id="demo">Demo&lt;/h3>
&lt;p>The full set of &lt;a href="https://github.com/kquinsland/the-missing-todoist-tools/blob/master/jobs/demo/">resources for the demo are here&lt;/a>, but the &amp;lsquo;meaningful&amp;rsquo; parts are below:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-yaml" data-lang="yaml">
&lt;span style="font-style:italic"># apply these labels...&lt;/span>
&lt;span style="font-weight:bold">labels&lt;/span>:
- &lt;span style="font-style:italic">&amp;#34;at_work&amp;#34;&lt;/span>
&lt;span style="font-style:italic"># to tasks that...&lt;/span>
&lt;span style="font-weight:bold">filters&lt;/span>:
- &lt;span style="font-weight:bold">filter&lt;/span>:
&lt;span style="font-style:italic"># Any task that...&lt;/span>
&lt;span style="font-weight:bold">task&lt;/span>:
&lt;span style="font-style:italic"># ... ends in &amp;#39;at work&amp;#39; or &amp;#39;the office&amp;#39;&lt;/span>
&lt;span style="font-weight:bold">content&lt;/span>:
&lt;span style="font-weight:bold">match&lt;/span>: &lt;span style="font-style:italic">&amp;#39;(at work$|at the office$)&amp;#39;&lt;/span>
&lt;span style="font-weight:bold">option&lt;/span>:
&lt;span style="font-style:italic"># remove portions of task content that match the query&lt;/span>
&lt;span style="font-weight:bold">mutate&lt;/span>: Yes
&lt;span style="font-style:italic"># *AND*&lt;/span>
&lt;span style="font-style:italic"># ... has no labels&lt;/span>
&lt;span style="font-weight:bold">labels&lt;/span>:
&lt;span style="font-weight:bold">absent&lt;/span>: Yes
&lt;span style="font-style:italic"># *AND*&lt;/span>
&lt;span style="font-style:italic"># ... is in this project&lt;/span>
&lt;span style="font-weight:bold">projects&lt;/span>:
&lt;span style="font-weight:bold">name&lt;/span>:
&lt;span style="font-weight:bold">match&lt;/span>: &lt;span style="font-style:italic">&amp;#39;Inbox&amp;#39;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>and&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-yaml" data-lang="yaml">
&lt;span style="font-style:italic"># Create the projects...&lt;/span>
&lt;span style="font-weight:bold">projects&lt;/span>:
&lt;span style="font-style:italic"># ... as child projects of `Garage Sale 🏚️💵`&lt;/span>
- &lt;span style="font-weight:bold">parent&lt;/span>:
&lt;span style="font-weight:bold">project&lt;/span>: Garage Sale 🏚️💵
&lt;span style="font-style:italic"># ... populated with template tasks/sections&lt;/span>
&lt;span style="font-weight:bold">template&lt;/span>:
&lt;span style="font-weight:bold">file&lt;/span>: ./templates/garage-sale.csv
&lt;span style="font-style:italic"># where the name of the projects to create comes from ...&lt;/span>
&lt;span style="font-weight:bold">from&lt;/span>:
&lt;span style="font-weight:bold">filters&lt;/span>:
- &lt;span style="font-weight:bold">filter&lt;/span>:
&lt;span style="font-style:italic"># Any task that...&lt;/span>
&lt;span style="font-weight:bold">task&lt;/span>:
&lt;span style="font-weight:bold">content&lt;/span>:
&lt;span style="font-weight:bold">match&lt;/span>: &lt;span style="font-style:italic">&amp;#34;.&amp;#34;&lt;/span>
&lt;span style="font-weight:bold">option&lt;/span>:
&lt;span style="font-weight:bold">delete&lt;/span>: yes
&lt;span style="font-weight:bold">projects&lt;/span>:
&lt;span style="font-style:italic"># ... is in this project&lt;/span>
&lt;span style="font-weight:bold">name&lt;/span>:
&lt;span style="font-weight:bold">match&lt;/span>: &lt;span style="font-style:italic">&amp;#39;Garage Sale 🏚️💵&amp;#39;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>CAPP: Cloud Agnostic Proxy Protocol</title><link>https://karlquinsland.com/2020/07/capp-cloud-agnostic-proxy-protocol/</link><pubDate>Tue, 21 Jul 2020 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/2020/07/capp-cloud-agnostic-proxy-protocol/</guid><description>&lt;p>It&amp;rsquo;s another &amp;ldquo;i made a thing!&amp;rdquo; post. 🙃&lt;/p>
&lt;hr>
&lt;p>I&amp;rsquo;m playing around with porting a few different applications over to k8. Some of them - like &lt;a href="https://github.com/kquinsland/skyhole/">skyhole&lt;/a> - rely on UDP packets which my hosted k8 provider of choice (read: cheapest! 💰) &lt;a href="https://ideas.digitalocean.com/ideas/DO-I-310">does not support&lt;/a>.&lt;/p>
&lt;p>The solution is either:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Keep track of all of the node IP addresses that have an exposed &lt;code>nodePort&lt;/code> and have the client connect directly to the cluster on the &lt;code>nodePort&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Set up some sort of intermediary to re-write the packet from the &lt;code>targetPort&lt;/code> &lt;strong>to&lt;/strong> the &lt;code>nodePort&lt;/code>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>Option 1 seems fragile; if a cluster host / node is recycled, the client needs to learn the new correct IP addresses.&lt;/p>
&lt;p>Option 2 seems far more flexible and is basically how most hosted k8 providers do ingress already. In fact, if digital ocean &lt;em>had&lt;/em> UDP support, this tool would never have been created. Bonus: clients that expect a specific port can still connect to the service no matter what &lt;code>nodePort&lt;/code> is used.&lt;/p>
&lt;p>So that&amp;rsquo;s what &lt;a href="https://github.com/kquinsland/cloud-agnostic-protocol-proxy">&lt;code>CAPP&lt;/code>&lt;/a> is: &lt;strong>C&lt;/strong>loud &lt;strong>A&lt;/strong>gnostic &lt;strong>P&lt;/strong>rotocol &lt;strong>P&lt;/strong>roxy.&lt;/p>
&lt;p>It&amp;rsquo;s a repo w/ a small python tool which can collect the IP addresses(s) belonging to each node in an arbitrary k8 cluster and - when combined with a small user config file - generate configuration files for &lt;code>traefik&lt;/code>.&lt;/p>
&lt;p>A &amp;lsquo;reference&amp;rsquo; packer job is included to generate a basic machine image to host traefik. A few lines of &lt;code>cloud_init&lt;/code> is all that&amp;rsquo;s needed to kick the tool off.&lt;/p></description></item><item><title>Systemd Resolved With Consul Agent</title><link>https://karlquinsland.com/2020/07/systemd-resolved-with-consul-agent/</link><pubDate>Tue, 21 Jul 2020 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/2020/07/systemd-resolved-with-consul-agent/</guid><description>&lt;p>I pieced this technique together a while back and created a gist for it. I&amp;rsquo;m creating &lt;em>this&lt;/em> post as a pointer to that gist so I have something that&amp;rsquo;s a bit easier to reference and refer others to.&lt;/p>
&lt;p>And i want to test out the &lt;a href="https://gohugo.io/content-management/shortcodes/#gist">hugo shortcode for embedding a gist&lt;/a> 😏.&lt;/p>
&lt;p>The really short version:&lt;/p>
&lt;ul>
&lt;li>Create a dedicated interface that can only be accessed from the local system&lt;/li>
&lt;li>Bind the consul-agent&amp;rsquo;s DNS service to this local only interface&lt;/li>
&lt;li>Tell &lt;a href="https://www.freedesktop.org/software/systemd/man/systemd-resolved.service.html">&lt;code>systemd-resolved&lt;/code>&lt;/a> that all hostnames with the &lt;code>.consul&lt;/code> TLD can be resolved via a DNS server on this local interface&lt;/li>
&lt;/ul>
&lt;p>No need to disable &lt;code>resolved&lt;/code> and replace it with dnsmasq 😄&lt;/p>
&lt;script type="application/javascript" src="https://gist.github.com/kquinsland/5cdc63614a581d9b392f435740b58729.js">&lt;/script></description></item><item><title>home lab: simple printable cable org</title><link>https://karlquinsland.com/2020/07/home-lab-simple-printable-cable-org/</link><pubDate>Sat, 18 Jul 2020 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/2020/07/home-lab-simple-printable-cable-org/</guid><description>&lt;p>Quick / another &amp;ldquo;i made a thing!&amp;rdquo; post.&lt;/p>
&lt;figure >
&lt;img src="https://karlquinsland.com/2020/07/home-lab-simple-printable-cable-org/images/installed.jpg" alt="Picture showing designed parts deployed as intended (please ignore the lingering dust! 💨)" />
&lt;figcaption>
&lt;p>
Picture showing designed parts deployed as intended (please ignore the lingering dust! 💨)
&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;p>I needed some horizontal / vertical cable rings for cat5 and power cables. I would have used the excellent &lt;a href="https://www.thingiverse.com/thing:3315960">1U Rackmount Cable Management Rings&lt;/a> by &lt;a href="https://www.thingiverse.com/boulwarek/about">boulwarek&lt;/a> except the hole spacing didn&amp;rsquo;t work for my application. I needed cable rings for the &amp;lsquo;front-to-back&amp;rsquo; braces which have distinct dimensions:&lt;/p>
&lt;ul>
&lt;li>holes needed to be spaced &lt;code>10.85mm&lt;/code> apart&lt;/li>
&lt;li>distance between center of screw is &lt;code>20.0mm&lt;/code>&lt;/li>
&lt;/ul>
&lt;figure >
&lt;img src="https://karlquinsland.com/2020/07/home-lab-simple-printable-cable-org/images/hole-dimensions.jpg" alt="Screenshot from Fusion360 showing dimensions between screw holes" />
&lt;figcaption>
&lt;p>
Screenshot from Fusion360 showing dimensions between screw holes
&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;p>I made the rings slightly smaller as the horizontal / vertical runs I needed rings for do not carry more than a few cables.&lt;/p>
&lt;p>A similar copy of this post is on &lt;a href="https://www.thingiverse.com/thing:4546078">thingiverse&lt;/a> and &lt;a href="https://www.prusaprinters.org/prints/36851-server-rack-cable-org">prusaprinters&lt;/a> page.&lt;/p>
&lt;h2 id="printing">Printing&lt;/h2>
&lt;p>Theses are &amp;lsquo;function&amp;rsquo; parts, so the cheapest material and fastest settings work. No support material needed and minimal bridging with the suggested print orientation shown below.&lt;/p>
&lt;figure >
&lt;img src="https://karlquinsland.com/2020/07/home-lab-simple-printable-cable-org/images/suggested_print_orientation.jpg" alt="Screenshot showing suggested print bed arrangement" />
&lt;figcaption>
&lt;p>
Screenshot showing suggested print bed arrangement
&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;h2 id="files">Files&lt;/h2>
&lt;p>For archive / posterity, all source files are included here. All files are licensed as &lt;a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike&lt;/a> (CC BY-NC-SA).&lt;/p>
&lt;ul>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/07/home-lab-simple-printable-cable-org/images/hole-dimensions.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/07/home-lab-simple-printable-cable-org/images/hole-dimensions_hu83b61487aa052e287a0d86e657470027_73623_300x0_resize_q75_box.jpg" width="300" height="232">
&lt;/a>
&lt;figcaption>
&lt;small>Screenshot from Fusion360 showing dimensions between screw holes&lt;/small>
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/07/home-lab-simple-printable-cable-org/images/horizontal-model.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/07/home-lab-simple-printable-cable-org/images/horizontal-model_hu543f65d8397ef1c757ed8c5dd191bd79_44806_300x0_resize_q75_box.jpg" width="300" height="337">
&lt;/a>
&lt;figcaption>
&lt;small>Picture showing the CAD model for horizontal variant&lt;/small>
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/07/home-lab-simple-printable-cable-org/images/installed.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/07/home-lab-simple-printable-cable-org/images/installed_hu8273af6dd11af8c1f0254ae91302bd85_877360_300x0_resize_q75_box.jpg" width="300" height="118">
&lt;/a>
&lt;figcaption>
&lt;small>Picture showing designed parts deployed as intended (please ignore the lingering dust! 💨)&lt;/small>
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/07/home-lab-simple-printable-cable-org/models/combined.3mf">
&lt;i class="far fa-file-archive">&lt;/i>
models/combined.3mf:
&lt;small style="font-family:'Lucida Console', monospace">3mf&lt;/small> &lt;small>file&lt;/small>
&lt;/a>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/07/home-lab-simple-printable-cable-org/models/horizontal.f3d">
&lt;i class="far fa-file-">&lt;/i>
models/horizontal.f3d:
&lt;/a>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/07/home-lab-simple-printable-cable-org/models/horizontal.stl">
&lt;i class="far fa-file-code">&lt;/i>
Horizontal STL:
&lt;small style="font-family:'Lucida Console', monospace">stl&lt;/small> &lt;small>file&lt;/small>
&lt;/a>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/07/home-lab-simple-printable-cable-org/models/vertical.f3d">
&lt;i class="far fa-file-">&lt;/i>
models/vertical.f3d:
&lt;/a>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/07/home-lab-simple-printable-cable-org/models/vertical.stl">
&lt;i class="far fa-file-code">&lt;/i>
Vertical STL:
&lt;small style="font-family:'Lucida Console', monospace">stl&lt;/small> &lt;small>file&lt;/small>
&lt;/a>
&lt;/li>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/07/home-lab-simple-printable-cable-org/images/suggested_print_orientation.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/07/home-lab-simple-printable-cable-org/images/suggested_print_orientation_hud61f960f3afd79e64529ec719f59eb42_400356_300x0_resize_q75_box.jpg" width="300" height="207">
&lt;/a>
&lt;figcaption>
&lt;small>Screenshot showing suggested print bed arrangement&lt;/small>
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/07/home-lab-simple-printable-cable-org/images/vertical-model.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/07/home-lab-simple-printable-cable-org/images/vertical-model_hu17d82c0049c0096ab66a3dbcef39359e_44352_300x0_resize_q75_box.jpg" width="300" height="241">
&lt;/a>
&lt;figcaption>
&lt;small>Picture showing the CAD model for vertical variant&lt;/small>
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;/ul></description></item><item><title>electronics lab: enhanced psu</title><link>https://karlquinsland.com/2020/07/electronics-lab-enhanced-psu/</link><pubDate>Thu, 09 Jul 2020 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/2020/07/electronics-lab-enhanced-psu/</guid><description>&lt;p>While doing the PoE related testing for &lt;a href="https://karlquinsland.com/2020/07/poe-at-a-distance-caused-terrible-cat5-speeds/">this&lt;/a> incident, it occurred to me that I never got around to sharing the files for a small modification to the popular RD6006 PSU.&lt;/p>
&lt;p>While drafting this post, I discovered that there appears to be a newer version of the RD6006: the 6012. As far as I can tell, they&amp;rsquo;re in the same &amp;lsquo;family&amp;rsquo; and have the same dimensions so the CAD and related model files below &lt;em>should&lt;/em> work w/ the RD6012 just as they do w/ the 6006, but i can only &amp;lsquo;guarantee&amp;rsquo; that the CAD and related model files below will work with the &lt;a href="https://hackaday.com/tag/riden-rd6006/">RD6006&lt;/a>.&lt;/p>
&lt;p>A version of this post appears on &lt;a href="https://www.prusaprinters.org/prints/36338-poe-and-qc30-adapter-for-rd6006-psu">prusaprinters&lt;/a> and &lt;a href="https://www.thingiverse.com/thing:4536551">thingiverse&lt;/a>&lt;/p>
&lt;h2 id="what">What&lt;/h2>
&lt;p>A small enclosure for a PoE injector and QC 3.0 charger designed to sit on top of the RD6012 PSU &amp;lsquo;kit&amp;rsquo; sold all over aliexpress and banggood.&lt;/p>
&lt;p>Assembled, it looks like this:&lt;/p>
&lt;figure >
&lt;img src="https://karlquinsland.com/2020/07/electronics-lab-enhanced-psu/images/rd6012-assembled.jpg" alt="picture of assembled DR60 series PSU" />
&lt;figcaption>
&lt;p>
As seen on AliExpress
&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;p>The RD6006 is incredibly versatile, but can only supply power for about 85% of the devices that make their way onto my &amp;lsquo;healing&amp;rsquo; bench. I wasn&amp;rsquo;t keen on taking up more valuable space with a device dedicated to PoE injection so finding a way to mod one into the PSU seemed like a good idea. Similarly, adding a versatile USB port seemed like a no-brainer as my &lt;a href="http://www.miniware.com.cn/product/ts80-soldering-iron-more/">favorite soldering iron&lt;/a> is powered via QuickCharge 3.&lt;/p>
&lt;p>Three useful bench tools, one footprint, one consumed power outlet. What&amp;rsquo;s not to love?&lt;/p>
&lt;h2 id="printing">Printing:&lt;/h2>
&lt;p>There are two components for this build:&lt;/p>
&lt;ul>
&lt;li>the &amp;lsquo;plate&amp;rsquo; which rests on the top of the PSU case and has small &amp;lsquo;fences&amp;rsquo; to fix the circuit boards in place. It&amp;rsquo;s the &amp;lsquo;salmon&amp;rsquo; colored component&lt;/li>
&lt;li>the &amp;lsquo;lid&amp;rsquo; is the (mostly) transparent yellow component which holds the auxiliary power supplies (pink components) in place and keeps all voltages away from people.&lt;/li>
&lt;/ul>
&lt;figure >
&lt;img src="https://karlquinsland.com/2020/07/electronics-lab-enhanced-psu/images/plate_and_lid.jpg" alt="picture of assembled components, colored" />
&lt;figcaption>
&lt;h4>Colorized Components&lt;/h4>
&lt;p>
Relevant components, colored in F360
&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;p>I used black PETG, but any material and at least 10% infill should be fine. Tune the layer height to taste.&lt;/p>
&lt;p>The &amp;lsquo;plate&amp;rsquo; does not need any supports nor does the lid if printed in the suggested print orientation shown below 👇. I printed with settings optimized for speed so there was minimal sagging, but nothing substantial. What little there was didn&amp;rsquo;t interfere with clearance of any other internal component and was completely hidden.&lt;/p>
&lt;p>If you&amp;rsquo;re not comfortable with bridging long distances, you can optionally enforce support material from the build plate to the top of the lid &lt;strong>or&lt;/strong> flip the lid upside down and use supports for the four feet where the screws go. Because any sagging would be hidden inside,&lt;/p>
&lt;figure >
&lt;img src="https://karlquinsland.com/2020/07/electronics-lab-enhanced-psu/images/print_orientation.jpg" alt="picture of components arranged on print bed" />
&lt;figcaption>
&lt;p>
suggested print orientation
&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;h2 id="components">Components&lt;/h2>
&lt;p>In addition to the miscellaneous wire and crimp connectors, there are two components used in this design:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.aliexpress.com/item/33019891423.html">PoE injector&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.amazon.com/gp/product/B07Y9HP4KM/">QC 3.0 Charger&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="assembly">Assembly&lt;/h2>
&lt;p>I don&amp;rsquo;t have any pictures from the assembly 😞, but it&amp;rsquo;s not particularly difficult to figure out from the attached pictures. In general, the steps to take are:&lt;/p>
&lt;ol start="0">
&lt;li>Print everything and clean up the parts as needed&lt;/li>
&lt;li>de-shell the PoE injector and QC3 charger. A plastic pry-tool or a few flat-head screwdrivers will help here!&lt;/li>
&lt;li>desolder the existing mains connections from both modules and solder on new ones. The new ones don&amp;rsquo;t need to be long, just a bit longer than the leads that came on the module PCBs!&lt;/li>
&lt;li>disconnect power from the assembled PSU and remove the case cover&lt;/li>
&lt;li>place the &amp;lsquo;plate&amp;rsquo; onto the top of the PSU and use a pencil to mark all 5 holes on the cover&lt;/li>
&lt;li>remove the plate, drill out all 5 holes and use a file to smooth down any sharp edges on the big hole as that&amp;rsquo;s where the mains wires will go. A burr poking through insulation means the case may become energized @ mains voltages! 💥 💀&lt;/li>
&lt;li>crimp connectors onto wires and attach to the mains supply &lt;strong>after&lt;/strong> the switch and fuse!&lt;/li>
&lt;li>place the &amp;lsquo;plate&amp;rsquo; back onto the PSU cover&lt;/li>
&lt;li>run the wires through the new hole in the top of the PSU case and through the hole in the &amp;lsquo;plate&amp;rsquo;&lt;/li>
&lt;li>add the PoE injector and QC3 module to the plate&lt;/li>
&lt;li>join the mains leads to the module leads. I used &lt;a href="https://www.amazon.com/Wago-221-413-LEVER-NUTS-Conductor-Connectors/dp/B06XGYXVXR/">Wago&lt;/a> connectors, but simple wirenuts or a screw terminal block will work.&lt;/li>
&lt;li>Use M3 screws to secure the lid to the plate and the PSU. I intentionally drilled the holes slightly too small so the screws would thread against the case. Not ideal, but works absolutely fine for something that&amp;rsquo;s not load-bearing or going to be repeatedly re-screwed.&lt;/li>
&lt;li>re-connect the IEC power connector and power on&lt;/li>
&lt;li>monitor for sounds and smells that indicate you screwed up. begin testing PoE and USB port for proper power.&lt;/li>
&lt;/ol>
&lt;p>Just prior to seating the &amp;lsquo;lid&amp;rsquo; you should have something like this:&lt;/p>
&lt;figure >
&lt;img src="https://karlquinsland.com/2020/07/electronics-lab-enhanced-psu/images/cover-and-screws-off.jpg" alt="picture of auxiliary PSUs seated and wired" />
&lt;figcaption>
&lt;p>
components seated and wired
&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;p>When all said and done, you&amp;rsquo;ll get this:&lt;/p>
&lt;figure >
&lt;img src="https://karlquinsland.com/2020/07/electronics-lab-enhanced-psu/images/modded-assembled.jpg" alt="picture of plate and lid attached to PSU" />
&lt;figcaption>
&lt;p>
everything assembled and powered up
&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;h2 id="files">Files&lt;/h2>
&lt;p>The f360 file is&amp;hellip; a mess. I&amp;rsquo;m not going to share it here. Contact me if you really want it. The &lt;code>stl&lt;/code> and &lt;code>3mf&lt;/code> files are below, though. As you can tell from the initials and date, this project was &amp;lsquo;completed&amp;rsquo; awhile ago.&lt;/p>
&lt;p>For archive / posterity, all source files are included here. All files are licensed as &lt;a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike&lt;/a> (CC BY-NC-SA).&lt;/p>
&lt;ul>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/07/electronics-lab-enhanced-psu/images/modded-assembled.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/07/electronics-lab-enhanced-psu/images/modded-assembled_hu5e0638bd999b700992e2199b07155936_1574650_300x0_resize_q75_box.jpg" width="300" height="226">
&lt;/a>
&lt;figcaption>
&lt;small>everything assembled and powered up&lt;/small>
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/07/electronics-lab-enhanced-psu/images/plate_and_lid.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/07/electronics-lab-enhanced-psu/images/plate_and_lid_hu7df47cce6e64ee651dfc4aee7a2b6320_100047_300x0_resize_q75_box.jpg" width="300" height="224">
&lt;/a>
&lt;figcaption>
&lt;small>Relevant components, colored in F360&lt;/small>
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/07/electronics-lab-enhanced-psu/models/combined.3mf">
&lt;i class="far fa-file-archive">&lt;/i>
models/combined.3mf:
&lt;small style="font-family:'Lucida Console', monospace">3mf&lt;/small> &lt;small>file&lt;/small>
&lt;/a>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/07/electronics-lab-enhanced-psu/models/lid.stl">
&lt;i class="far fa-file-code">&lt;/i>
models/lid.stl:
&lt;small style="font-family:'Lucida Console', monospace">stl&lt;/small> &lt;small>file&lt;/small>
&lt;/a>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/07/electronics-lab-enhanced-psu/models/plate.stl">
&lt;i class="far fa-file-code">&lt;/i>
models/plate.stl:
&lt;small style="font-family:'Lucida Console', monospace">stl&lt;/small> &lt;small>file&lt;/small>
&lt;/a>
&lt;/li>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/07/electronics-lab-enhanced-psu/images/cover-and-screws-off.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/07/electronics-lab-enhanced-psu/images/cover-and-screws-off_hu3f72322543fc63d58d9c086dc73ec59d_2108898_300x0_resize_q75_box.jpg" width="300" height="192">
&lt;/a>
&lt;figcaption>
&lt;small>components seated and wired&lt;/small>
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/07/electronics-lab-enhanced-psu/images/print_orientation.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/07/electronics-lab-enhanced-psu/images/print_orientation_huacfb77ea22eded6192e18f25c598ee63_329076_300x0_resize_q75_box.jpg" width="300" height="206">
&lt;/a>
&lt;figcaption>
&lt;small>suggested print orientation&lt;/small>
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/07/electronics-lab-enhanced-psu/images/rd6012-assembled.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/07/electronics-lab-enhanced-psu/images/rd6012-assembled_hub76e8fd9b3f797047933500d97d420d7_77086_300x0_resize_q75_box.jpg" width="300" height="300">
&lt;/a>
&lt;figcaption>
&lt;small>As seen on AliExpress&lt;/small>
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;/ul></description></item><item><title>home lab: mini 'universal' patch panel</title><link>https://karlquinsland.com/2020/07/home-lab-mini-universal-patch-panel/</link><pubDate>Sun, 05 Jul 2020 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/2020/07/home-lab-mini-universal-patch-panel/</guid><description>&lt;p>This is another brief &amp;ldquo;i made a thing!&amp;rdquo; posts.&lt;/p>
&lt;h2 id="what">What&lt;/h2>
&lt;p>Taking the side / rear of my rack off every time I needed to change which host(s) were connected to the monitor was starting to get old. Only recently did I realize that you can fit more than just RJ45 jacks in a &lt;a href="https://en.wikipedia.org/wiki/Keystone_module">Keystone Jack&lt;/a>. A few measurements, a quick search through thingiverse and some CAD time later, this is the result.&lt;/p>
&lt;p>The model is tailored to my specific rack, but should be easily adoptable to any other dimensions. Import the Fusion360 model and then edit the first sketch in the timeline as needed and adjust the &lt;code>pattern on line&lt;/code> step to adjust the number of keystone jacks.&lt;/p>
&lt;p>Of course, you can always just glue the print to whichever surface you need it mounted on as there&amp;rsquo;s plenty of broad/flat surface for adhesive if the two built-in screw holes won&amp;rsquo;t work!&lt;/p>
&lt;p>As is, the model has:&lt;/p>
&lt;ul>
&lt;li>8 jacks&lt;/li>
&lt;li>&lt;code>178.5mm&lt;/code> from &amp;lsquo;edge&amp;rsquo; to &amp;lsquo;edge&amp;rsquo; between the two screw holes&lt;/li>
&lt;li>&lt;code>6.5mm&lt;/code> diameter for the holes as my rack uses M6 screws.&lt;/li>
&lt;/ul>
&lt;p>Note: After printing the model you see in the pictures below, I added a small cutout which should make it easier to depress the clip on the &amp;lsquo;male&amp;rsquo; end of a keystone device from the &amp;lsquo;user facing&amp;rsquo; side as you&amp;rsquo;d typically find on a proper patch panel&lt;/p>
&lt;p>All in all, I&amp;rsquo;m quite happy with how it turned out: 8 jacks is more than enough for current and (projected!) future use. The only obvious improvement would be moving the numbers from the bottom to the top where there&amp;rsquo;s more room. As it is now, the perimeters around the numbers look a bit weird as they merge w/ the bottom edge that are flush w/ the rack and the top edges that are flush w/ the jacks.&lt;/p>
&lt;p>Many thanks to &lt;a href="https://www.thingiverse.com/belfers/about">&lt;code>belfers&lt;/code>&lt;/a> for the &lt;a href="https://www.thingiverse.com/thing:3150524">Keystone model&lt;/a>.&lt;/p>
&lt;p>The details are on the &lt;a href="https://www.thingiverse.com/thing:4536257">thingiverse&lt;/a> and &lt;a href="https://www.prusaprinters.org/prints/36325-8-port-keystone-patch-panel">prusaprinters&lt;/a> page.&lt;/p>
&lt;h2 id="printing">Printing:&lt;/h2>
&lt;p>Any material and at least 10% infill should be fine.
No supports if you use the suggested print orientation shown in picture below.
Tolerances on the jacks are somewhat tight so printing at a more accurate setting is probably going to be a good idea.&lt;/p>
&lt;h2 id="files">Files&lt;/h2>
&lt;p>For archive / posterity, all source files are included here. All files are licensed as &lt;a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike&lt;/a> (CC BY-NC-SA).&lt;/p>
&lt;ul>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/07/home-lab-mini-universal-patch-panel/images/rear-installed.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/07/home-lab-mini-universal-patch-panel/images/rear-installed_hua3383d84163f112bd060af4ed3b8937c_1343110_300x0_resize_q75_box.jpg" width="300" height="122">
&lt;/a>
&lt;/figure>
&lt;/li>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/07/home-lab-mini-universal-patch-panel/images/front-installed.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/07/home-lab-mini-universal-patch-panel/images/front-installed_hu41ccff79e18526a44598cc32ce35c2c7_1597423_300x0_resize_q75_box.jpg" width="300" height="127">
&lt;/a>
&lt;/figure>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/07/home-lab-mini-universal-patch-panel/models/keystone-bracket.3mf">
&lt;i class="far fa-file-archive">&lt;/i>
models/keystone-bracket.3mf:
&lt;small style="font-family:'Lucida Console', monospace">3mf&lt;/small> &lt;small>file&lt;/small>
&lt;/a>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/07/home-lab-mini-universal-patch-panel/models/keystone-bracket.f3z">
&lt;i class="far fa-file-archive">&lt;/i>
Consolidated PSU CAD:
&lt;small style="font-family:'Lucida Console', monospace">f3z&lt;/small> &lt;small>file&lt;/small>
&lt;br>
&lt;small>Fusion360 Archive&lt;/small>
&lt;/a>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/07/home-lab-mini-universal-patch-panel/models/keystone-bracket.stl">
&lt;i class="far fa-file-code">&lt;/i>
models/keystone-bracket.stl:
&lt;small style="font-family:'Lucida Console', monospace">stl&lt;/small> &lt;small>file&lt;/small>
&lt;/a>
&lt;/li>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/07/home-lab-mini-universal-patch-panel/images/print_orientation.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/07/home-lab-mini-universal-patch-panel/images/print_orientation_hu76c02f2da9eb89859f866c4853e1d8f8_295257_300x0_resize_q75_box.jpg" width="300" height="227">
&lt;/a>
&lt;figcaption>
&lt;small>Suggested print orientation&lt;/small>
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;/ul></description></item><item><title>PoE at a distance caused terrible cat5 speeds</title><link>https://karlquinsland.com/2020/07/poe-at-a-distance-caused-terrible-cat5-speeds/</link><pubDate>Wed, 01 Jul 2020 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/2020/07/poe-at-a-distance-caused-terrible-cat5-speeds/</guid><description>&lt;p>This is a quick post for made in the hopes that some poor soul in the future will find it and save themselves some time.&lt;/p>
&lt;h2 id="background">Background&lt;/h2>
&lt;p>I&amp;rsquo;ve been experimenting with a few different ways to surface various home automation controls in the appropriate place and at a good time. One prototype host is deployed behind a small LCD under some cabinets in a high traffic area. This host is a raspberry pi 4 with a &lt;a href="https://www.raspberrypi.org/products/poe-hat/">PoE hat&lt;/a>. It boots a very stripped down version of &lt;a href="https://www.raspberrypi.org/downloads/raspberry-pi-os/">Raspberry Pi OS&lt;/a> into a web browser running in Kiosk mode.&lt;/p>
&lt;p>It&amp;rsquo;s pretty simple and does many things well. There&amp;rsquo;s a few small issues that need to be addressed in the CAD files as well as some additional electronic improvements that should be made before I can publish the design / files.&lt;/p>
&lt;p>In any event, this host has been trouble-free until recently. Simple &lt;code>apt update&lt;/code> transfers would take &lt;strong>DAYS&lt;/strong> to complete, simple &lt;code>scp&lt;/code> operations to other hosts on the LAN would trickle by at tens of kB/s. The web app that the host is primarily responsible for displaying would time out or fail to completely load resulting in some &amp;ldquo;a-for-effort&amp;rdquo; &lt;a href="https://www.mavenecommerce.com/2017/10/31/progressive-enhancement-vs-graceful-degradation/">graceful degradation&lt;/a>.&lt;/p>
&lt;h2 id="the-facts">The Facts&lt;/h2>
&lt;p>As soon as I bring up the &lt;code>wlan0&lt;/code> interface and bring down the &lt;code>eth0&lt;/code> interface performance is IMMEDIATELY restored. The web app is responsive and fully loads instantly, &lt;code>scp&lt;/code> is fast like it should be on a LAN and &lt;code>apt update&lt;/code> completes without any errors as fast as my internet connection will let it!&lt;/p>
&lt;p>&lt;strong>Conclusion&lt;/strong>: The problem is &lt;em>not&lt;/em> network related. Both the &lt;code>eth0&lt;/code> and &lt;code>wlan0&lt;/code> interface are on the same &lt;code>vLan&lt;/code> so the bizarre behavior is not likely caused by a QoS policy or firewall rule.&lt;/p>
&lt;p>The rPi and a few other hosts a powered via a a &lt;a href="https://shop.poetexas.com/products/at-4-48v120w/">120 watt&lt;/a> which is in the same closet as my core switch. Two terminations and about 200 feet of cat5 cable later, you get to the rPi host on the other side of the house.&lt;/p>
&lt;p>Continuity tester was used on every segment of the link to confirm the link is good. The segments of the link from the switch to the injector and to the patch-panel all use high quality pre-made cables, as does the final segment from the wall to the rPi. Shocker, they tested fine, just like the in-wall segment.&lt;/p>
&lt;p>Additionally, no other host on the PoE injector is misbehaving. No other host on the PoE injector is indicating that there&amp;rsquo;s not enough power, and the power supply feeding the injector isn&amp;rsquo;t even warm.&lt;/p>
&lt;p>&lt;strong>Conclusion&lt;/strong>: The cables are certainly fine and the PoE injector is &lt;em>probably fine&lt;/em>.&lt;/p>
&lt;p>Next, I disabled the PoE injector all together and use the USBC port on the rPi for power. It was just as performant as with WiFi! I did not expect this result, but it did certainly narrow down the possible problem areas.&lt;/p>
&lt;p>&lt;strong>Conclusion&lt;/strong>: The problem is only present when the host is powered via PoE.&lt;/p>
&lt;p>I was very confident that the PoE injector was not the problem, but in order to be certain, I used a second cheap PoE injector that lives on my bench power supply. Turns out, the same slow speeds manifested with the second injector, too.&lt;/p>
&lt;p>&lt;strong>Conclusion&lt;/strong>: The problem is not in the network, nor is it in the cables, nor is it in the injectors.&lt;/p>
&lt;p>This only leaves one candidate: the host. Unfortunately, there&amp;rsquo;s nothing about the host that screams &amp;ldquo;i&amp;rsquo;m the problem!&amp;rdquo;. The microSD card is new and very fast. There&amp;rsquo;s nothing in the logs indicating a hardware failure. On-device performance (via non-networking benchmarks) is inline with what i&amp;rsquo;d expect.&lt;/p>
&lt;p>Here&amp;rsquo;s two additional facts from some brief testing I did a few weeks ago. I had more or less forgotten about them and only really remembered that:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>When I tried a fresh install of Ubuntu on a fresh microSD card&amp;hellip; same slow speeds.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>The host performs &lt;em>perfectly&lt;/em> when plugged into other networks.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>I was &lt;em>confident&lt;/em> then, that the rPi was not the issue and that something about the network was. But I just spent 3 hours systematically testing out every component of the network and concluding that the network is fine!&lt;/p>
&lt;p>&lt;strong>Conclusion&lt;/strong>: I&amp;rsquo;m back where I started; angry and confused.&lt;/p>
&lt;p>The &amp;ldquo;ah ha!&amp;rdquo; moment didn&amp;rsquo;t come until i decided to try my second PoE injector &lt;em>at the client&lt;/em>. Much to my surprise, &lt;strong>it worked!&lt;/strong>.&lt;/p>
&lt;p>After a bit more testing, I determined that the PoE HAT on the rPi is &amp;lsquo;fine&amp;rsquo; when the PoE source is CLOSE&amp;hellip; which probably explains the &amp;lsquo;works fine on other networks&amp;rsquo; fact above.&lt;/p>
&lt;p>That leaves just the &amp;lsquo;problem is OS independent&amp;rsquo; fact which - after thoroughly vetting every part of the network and PoE system - makes it pretty obvious that the problem must be between the rPi and the cat5 cable coming from the wall. There&amp;rsquo;s &lt;em>only&lt;/em> the PoE HAT between the rPi and the cat5 cable coming from the wall. I borrowed a PoE HAT from another host elsewhere on the network and the problematic rPi started behaving again. Network transfer speeds were appropriate and the web app / dashboard was performant again!&lt;/p>
&lt;p>&lt;strong>Conclusion&lt;/strong>: the PoE HAT powering a home automation dashboard has failed in such a way that makes the &lt;code>eth0&lt;/code> interface all but useless. replacing the HAT solved the problem.&lt;/p>
&lt;h2 id="tldr">TL;DR:&lt;/h2>
&lt;p>Several months ago, the home automation dashboard displayed on a PoE powered rPi 4 started to act up. Further investigation showed absolute crap network performance from the host to any other point on the LAN or WAN. After testing each component in isolation, the PoE HAT was the only reaming suspect. After further investigation, the failure mode is &lt;em>not present&lt;/em> when the PoE source is &lt;em>close&lt;/em> to the client, only when the source is far from the client.&lt;/p>
&lt;p>So if you have a PoE powered rPi project out there w/ abysmal &lt;code>eth0&lt;/code> performance, try replacing the PoE hat&amp;hellip;&lt;/p>
&lt;p>Also, if anybody knows &lt;em>why&lt;/em> this happened, I&amp;rsquo;d love to know.&lt;/p></description></item><item><title>Hello World</title><link>https://karlquinsland.com/2020/06/hello-world/</link><pubDate>Sat, 27 Jun 2020 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/2020/06/hello-world/</guid><description>&lt;p>Blowing the dust off the domain, trying Hugo out.&lt;/p>
&lt;p>&lt;em>tap&lt;/em> &lt;em>tap&lt;/em> Is this thing on?&lt;/p></description></item><item><title>home lab: consolidating multiple PSUs</title><link>https://karlquinsland.com/2020/06/home-lab-consolidating-multiple-psus/</link><pubDate>Sat, 27 Jun 2020 00:00:00 +0000</pubDate><guid>https://karlquinsland.com/2020/06/home-lab-consolidating-multiple-psus/</guid><description>&lt;p>A while back, I traded writing salt states and managing systemd &lt;code>.service&lt;/code> files wrapping &lt;code>podman&lt;/code> for the &lt;a href="https://www.youtube.com/watch?v=9wvEwPLcLcA">&amp;lsquo;simplicity&amp;rsquo;&lt;/a> of running kubernetes in my home lab. Jury is still out on weather or not the switch was worth it.&lt;/p>
&lt;p>The cluster is a hodgepodge of second hand Intel NUCs and other scavenged compute hardware i&amp;rsquo;ve collected over the past few years. Some of it runs on 12v, some of it on 19v. For each node, there&amp;rsquo;s a dedicated switch mode power supply. Each supply takes up an outlet and brings a bit of cable mgmt related clutter. The solution is consolidation.&lt;/p>
&lt;p>So thats how this project came to be.&lt;/p>
&lt;h2 id="what">What&lt;/h2>
&lt;p>A set of 3d printable parts to compactly combine two LRS-350 PSUs into a compact unit with optional voltage and current displays.&lt;/p>
&lt;p>The details are on the &lt;a href="https://www.thingiverse.com/thing:4504948">thingiverse&lt;/a> and &lt;a href="https://www.prusaprinters.org/prints/35514-dual-mean-well-lrs-350-psu">prusaprinters&lt;/a> page.&lt;/p>
&lt;h2 id="files">Files&lt;/h2>
&lt;p>For archive / posterity, all source files are included here. All files are licensed as &lt;a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike&lt;/a> (CC BY-NC-SA).&lt;/p>
&lt;ul>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/06/home-lab-consolidating-multiple-psus/images/built.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/06/home-lab-consolidating-multiple-psus/images/built_hue8f36c4f699ca512381ec1ecdae0f96e_1394325_300x0_resize_q75_box.jpg" width="300" height="189">
&lt;/a>
&lt;figcaption>
&lt;small>Fully Assembled; ignore the messy workbench&lt;/small>
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/06/home-lab-consolidating-multiple-psus/images/cad-back.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/06/home-lab-consolidating-multiple-psus/images/cad-back_hu9cc2ce5e929a14998f22cb542d786aa7_342135_300x0_resize_q75_box.jpg" width="300" height="215">
&lt;/a>
&lt;figcaption>
&lt;small>component view, from rear&lt;/small>
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/06/home-lab-consolidating-multiple-psus/images/cad-front.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/06/home-lab-consolidating-multiple-psus/images/cad-front_hue2810dd6e158cf3715e15de998852c44_365005_300x0_resize_q75_box.jpg" width="300" height="220">
&lt;/a>
&lt;figcaption>
&lt;small>component view, from front&lt;/small>
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/06/home-lab-consolidating-multiple-psus/images/core.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/06/home-lab-consolidating-multiple-psus/images/core_hue43f3402df27eedd99dff8c904086e8c_310336_300x0_resize_q75_box.jpg" width="300" height="219">
&lt;/a>
&lt;figcaption>
&lt;small>Print Bed arrangement, green is support structures&lt;/small>
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/06/home-lab-consolidating-multiple-psus/images/meter-panel.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/06/home-lab-consolidating-multiple-psus/images/meter-panel_hu546d99e5993001046c71e4a3333af77d_135643_300x0_resize_q75_box.jpg" width="300" height="267">
&lt;/a>
&lt;figcaption>
&lt;small>meter panel print orientation&lt;/small>
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/06/home-lab-consolidating-multiple-psus/models/2x-lrs-psu.f3z">
&lt;i class="far fa-file-archive">&lt;/i>
Consolidated PSU CAD:
&lt;small style="font-family:'Lucida Console', monospace">f3z&lt;/small> &lt;small>file&lt;/small>
&lt;br>
&lt;small>Fusion360 Archive&lt;/small>
&lt;/a>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/06/home-lab-consolidating-multiple-psus/models/box.stl">
&lt;i class="far fa-file-code">&lt;/i>
Box:
&lt;small style="font-family:'Lucida Console', monospace">stl&lt;/small> &lt;small>file&lt;/small>
&lt;/a>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/06/home-lab-consolidating-multiple-psus/models/brace.stl">
&lt;i class="far fa-file-code">&lt;/i>
Brace:
&lt;small style="font-family:'Lucida Console', monospace">stl&lt;/small> &lt;small>file&lt;/small>
&lt;/a>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/06/home-lab-consolidating-multiple-psus/models/core.3mf">
&lt;i class="far fa-file-archive">&lt;/i>
Core Components:
&lt;small style="font-family:'Lucida Console', monospace">3mf&lt;/small> &lt;small>file&lt;/small>
&lt;/a>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/06/home-lab-consolidating-multiple-psus/models/lid.stl">
&lt;i class="far fa-file-code">&lt;/i>
Lid:
&lt;small style="font-family:'Lucida Console', monospace">stl&lt;/small> &lt;small>file&lt;/small>
&lt;/a>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/06/home-lab-consolidating-multiple-psus/models/meter-panel.3mf">
&lt;i class="far fa-file-archive">&lt;/i>
(Optional) Meter Panel:
&lt;small style="font-family:'Lucida Console', monospace">3mf&lt;/small> &lt;small>file&lt;/small>
&lt;/a>
&lt;/li>
&lt;li>
&lt;a target="_blank" href="https://karlquinsland.com/2020/06/home-lab-consolidating-multiple-psus/models/meter-panel.stl">
&lt;i class="far fa-file-code">&lt;/i>
(Optional) Meter Panel:
&lt;small style="font-family:'Lucida Console', monospace">stl&lt;/small> &lt;small>file&lt;/small>
&lt;/a>
&lt;/li>
&lt;li>
&lt;figure>
&lt;a target="_blank" href="https://karlquinsland.com/2020/06/home-lab-consolidating-multiple-psus/images/meter-panel-slice.jpg">
&lt;img style="width: auto; height: auto;" src="https://karlquinsland.com/2020/06/home-lab-consolidating-multiple-psus/images/meter-panel-slice_hu512c49ce3497e3dea530288ed57cb214_547680_300x0_resize_q75_box.jpg" width="300" height="255">
&lt;/a>
&lt;figcaption>
&lt;small>using slic3r too remove the second meter cutout&lt;/small>
&lt;/figcaption>
&lt;/figure>
&lt;/li>
&lt;/ul></description></item></channel></rss>